<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Emacs | EverET.org]]></title>
  <link href="http://everet.org/tag/emacs/atom.xml" rel="self"/>
  <link href="http://everet.org/"/>
  <updated>2012-12-30T18:02:23+08:00</updated>
  <id>http://everet.org/</id>
  <author>
    <name><![CDATA[Stupid ET]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Screenshot And Image Paste in Emacs When Writing Markdown]]></title>
    <link href="http://everet.org/2012/12/screenshot-and-image-paste-in-emacs-when-writing-markdown.html"/>
    <updated>2012-12-28T03:36:00+08:00</updated>
    <id>http://everet.org/2012/12/screenshot-and-image-paste-in-emacs-when-writing-markdown</id>
    <content type="html"><![CDATA[<p>Octopress首选博客语言是Markdown。于是又是Emacs大显身手的时候了。</p>

<p>在用Markdown写东西的时候，我想最蛋疼的应该就是插入图片了。</p>

<p>正常的插入截图的步骤可能为：</p>

<ol>
  <li>打开截图程序截图</li>
  <li>保存截图到Octopress的制定目录中</li>
  <li>然后在Markdown中写上图片的url的地址</li>
</ol>

<p>这样一次两次还可以接受，如果长期这样是在让人受不了。对于我这种懒人，首先就要偷懒，让Emacs帮我们做这些事情。</p>

<h2 id="section">功能演示</h2>

<h3 id="section-1">截图</h3>
<p>我们按下<code>C-c</code> <code>C-s</code> <code>s</code>就开始截图了，截完图后，会自动保存到我们指定的目录，例如我的是<code>~/octopress/source/imgs/</code>。</p>

<p>下面这张图是用Emacs截图自动插入的：
<img src="/imgs/2012-12-28-screenshot-and-image-paste-in-emacs-when-use-markdown.markdown<em>20121228</em>021049_6910Rbg.png">
用起来感觉很爽，按下快捷键，一截图，唰一下就出来一段代码。</p>

<!-- more -->

<h3 id="section-2">插入本地图片</h3>
<p>对于本地硬盘里面的图片的插入，我们可以先在文件浏览器（例如Dolphin）中选中要插入的图片，然后复制图片。回到Emacs中，按下<code>C-c</code> <code>C-s</code> <code>i</code>插入我们的图片。</p>

<p>这里会发生什么事情呢？我很无聊地让Emacs将图片复制到<code>~/octopress/source/imgs/</code>中，然后插入图片在url中地址。</p>

<p>下面是自动插入的图片。
<img class="right" src="/imgs/emacs<em>20121228</em>015008_69103GU.jpg"></p>

<blockquote>
  <p>What Emacs does to your keyboard?<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p>
</blockquote>

<h2 id="section-3">实现</h2>
<p>上面都是在介绍功能，现在我们来看一下如何实现。</p>

<table>
  <tbody>
    <tr>
      <td>其实也就是写Emacs Lisp。我自从实习回来就基本没怎么写过代码了，今天难得写一下Lisp，顿时觉得神清气爽啊-_-</td>
      <td> </td>
      <td>。</td>
    </tr>
  </tbody>
</table>

<p>我们可以看到第一张截图，默认插入的图片格式是<code> {% img url %} </code>，这个是Octopress的Tag，可以方便地定制图片的样式。如果需要插入Markdown格式的图片，可以加上前缀<code>C-u</code>，也就是命令变成<code>C-u</code> <code>C-c</code> <code>C-s</code> <code>s</code>这样。这个快捷键绑定略显麻烦，大家可以自己自己绑定到喜欢的快捷键上。</p>

<p>首先我们需要设置Octopress的信息，包括本地的图片路径，以及在网络上的图片路径：</p>

<p><code>cl
(setq octopress-image-dir (expand-file-name "~/octopress/source/imgs/"))
(setq octopress-image-url "/imgs/")
</code></p>

<p>然后开始写程序：</p>

<p>首先是截图，这个直接在网上找到了实现<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>，然后根据需求进行修改：</p>

<p>``` cl 
;; 
(defun my-screenshot (dir_path)
  “Take a screenshot and save it to dir_path path.
Return image filename without path so that you can concat with your
opinion. “
  (interactive)
  (let* ((full-file-name
	  (concat (make-temp-name (concat dir_path (buffer-name) “<em>” (format-time-string “%Y%m%d</em>%H%M%S_”))) “.png”))
	 (file-name (my-base-name full-file-name))
	 )
    (call-process-shell-command “scrot” nil nil nil (concat “-s “ “"” full-file-name “"”))
    file-name
    ))</p>

<p>;; Screenshot
(defun markdown-screenshot (arg)
  “Take a screenshot for Octopress”
  (interactive “P”)
  (let* ((dir_path octopress-image-dir)
	 (url (concat octopress-image-url (my-screenshot dir_path))))
    (if arg
	(insert “<img src="&quot; url" alt="" title=")" />
      (insert “{% img “ url “ %}”))))
;; 	<br />
```</p>

<p>然后是从剪切版Clipboard插入图片，这个找不到，于是只能自己写了哎。Lisp水平太差，写了好久…囧。</p>

<p>``` cl
;; 
;; base on http://emacswiki.org/emacs/CopyAndPaste
(defun get-clipboard-contents-as-string ()
    “Return the value of the clipboard contents as a string.”
    (let ((x-select-enable-clipboard t))
      (or (x-cut-buffer-or-selection-value)
          x-last-selected-text-clipboard)))</p>

<p>(defun copy-file-from-clipboard-to-path (dst-dir)
  “copy file to desired path from clipboard”
  (interactive)
  (let* ((full-file-name) (file-name) (ext) (new-file-name))
    (setq full-file-name (get-clipboard-contents-as-string))
    (if (eq (search “file://” full-file-name) 0)
	(progn
	  (setq full-file-name (substring full-file-name 7))
	  (setq file-name (my-base-name full-file-name))
	  (setq ext (concat “.” (file-name-extension file-name)))
	  (setq new-file-name
		(concat (make-temp-name
			 (concat (substring file-name 0
					    (search “.” file-name :from-end t))
				 (format-time-string “<em>%Y%m%d</em>%H%M%S_”))) ext))
	  (setq new-full-file-name (concat dst-dir new-file-name))
	  (copy-file full-file-name new-full-file-name)
	  new-file-name
	  )
      )))</p>

<p>;; Insert Image From Clip Board
(defun markdown-insert-image-from-clipboard (arg)
  “Insert an image from clipboard and copy it to disired path”
  (interactive “P”)
  (let ((url (concat octopress-image-url (copy-file-from-clipboard-to-path octopress-image-dir))))
    (if arg
	(insert “<img src="&quot; url" alt="" title=")" />
      (insert “{% img “ url “ %}”))))
;; 
```</p>

<p>最后就是设置按键绑定了：</p>

<p><code>cl
(define-key markdown-mode-map (kbd "C-c C-s s") 'markdown-screenshot)
(define-key markdown-mode-map (kbd "C-c C-s i") 'markdown-insert-image-from-clipboard)
</code></p>

<p>所有代码请见以下两个文件：<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></p>

<ul>
  <li><a href="https://github.com/cedricporter/vim-emacs-setting/blob/master/emacs/.emacs.d/plugins/configs/my-functions.el">my-functions.el</a></li>
  <li><a href="https://github.com/cedricporter/vim-emacs-setting/blob/master/emacs/.emacs.d/plugins/configs/my-octopress-settings.el">my-octopress-settings.el</a></li>
</ul>

<h2 id="section-4">终</h2>
<p>经过九九八十一式终于打完收工，现在又凌晨3点多了。想起我们的<a href="http://huajun.w18.net/">冯华君</a>师兄，31岁就收到乔布斯的Offer Letter去找教主了，我不禁心里怕怕的，还是早点休息吧。身体是革命的本钱啊。</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="http://jbarillari.blogspot.com/2010/07/what-emacs-does-to-your-keyboard.html">http://jbarillari.blogspot.com/2010/07/what-emacs-does-to-your-keyboard.html</a><a href="#fnref:1" rel="reference">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><a href="http://lists.gnu.org/archive/html/emacs-orgmode/2011-07/msg01292.html">http://lists.gnu.org/archive/html/emacs-orgmode/2011-07/msg01292.html</a> <a href="http://dreamrunner.org/wiki/public_html/Emacs/org-mode.html">http://dreamrunner.org/wiki/public_html/Emacs/org-mode.html</a><a href="#fnref:2" rel="reference">&#8617;</a></p>
    </li>
    <li id="fn:3">
      <p><a href="https://github.com/cedricporter/vim-emacs-setting">我的Emacs配置文件</a><a href="#fnref:3" rel="reference">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[调试Nginx]]></title>
    <link href="http://everet.org/2012/12/debug-nginx.html"/>
    <updated>2012-12-24T07:41:00+08:00</updated>
    <id>http://everet.org/2012/12/debug-nginx</id>
    <content type="html"><![CDATA[<h2 id="nginx">为什么调试Nginx</h2>

<p>为什么要调试Nginx，原因多种多样。如果阅读源码的话，开着进程单步走下去不失为一种很好的源码导读方式。 </p>

<h2 id="nginx-1">编译Nginx</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>bash  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;./configure –prefix<span class="o">=</span>”<span class="nv">$HOME</span>/my-nginx” –with-debug
</span><span class='line'>  make &amp;amp;&amp;amp; make install&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>当然还要看一下，生成出来的的Makefile是不是有-O优化，如果有的话需要关闭优化，可以看一下根目录下的Makefile以及objs/Makefile。有的话记得需要改成-O0或者直接删掉就好了。 </p>

<!-- more -->

<h2 id="nginx-2">为调试配置Nginx</h2>

<p>然后在$HOME/my-nginx/conf下面就是我们的配置文件了，我们编辑nginx.conf，加上： <br />
<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>nginx  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='nginx'><span class='line'><span class="k">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;error_log</span> <span class="s">/dev/stdout</span> <span class="s">debug</span><span class="p">;</span>
</span><span class='line'>  <span class="k">master_process</span> <span class="no">off</span><span class="p">;</span>
</span><span class='line'>  <span class="k">daemon</span> <span class="no">off</span><span class="p">;</span><span class="k">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
   我们可以看到error_log /dev/stdout这样一句，这样可以将输出日志直接打印到标准输出，调试的时候可以实时看到输出。 </p>

<p><img src="http://everet.org/wp-content/uploads/2012/12/wpid-snapshot1-small.png" alt="" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[我的Emacs配置]]></title>
    <link href="http://everet.org/2012/03/emacs.html"/>
    <updated>2012-03-26T03:29:23+08:00</updated>
    <id>http://everet.org/2012/03/emacs</id>
    <content type="html"><![CDATA[<p>原来一直想用Vim来写东西，不过Vim的出生就被定义为做一个编辑器。他的职责就是做好一个编辑器，Vim也不愧为编辑器之神，他确实是非常棒的编辑器。在Unix中，几乎每个工具都是设计为只做一件事，所以我也不想勉为其难将Vim变成一个好用的IDE。</p>

<p>俺曾经尝试使用vim-gdb把gdb嵌入vim，不过用户体验是在让人无法接受，于是就放弃了。</p>

<p>于是只能投身神的编辑器、伪装成编辑器的操作系统——Emacs。</p>

<p>不过俺还是喜欢vim的按键风格，所以俺装了evil，把Emacs变成了超强版的Vim。</p>

<p>代码提示就不说了，Emacs下很轻易就可以做到转到定义处，重构等等。</p>

<p>好的工具是敏捷开发的必要前提啊~又想起了一句古诗：君子性非异也，善假于物也。</p>

<p>俺的Emacs配置请见：<a href="https://github.com/cedricporter/vim-emacs-setting">https://github.com/cedricporter/vim-emacs-setting</a></p>

<p>配置效果如下：<!-- more --></p>

<h3 id="python">写Python</h3>

<p><a href="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190039.png"><img src="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190039.png" alt="" /></a></p>

<h3 id="c">写C</h3>

<p><a href="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190144.png"><img src="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190144.png" alt="" /></a></p>

<h2 id="section">主配置文件</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>lisp  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
<span class='line-number'>327</span>
<span class='line-number'>328</span>
<span class='line-number'>329</span>
<span class='line-number'>330</span>
<span class='line-number'>331</span>
<span class='line-number'>332</span>
<span class='line-number'>333</span>
<span class='line-number'>334</span>
<span class='line-number'>335</span>
<span class='line-number'>336</span>
<span class='line-number'>337</span>
<span class='line-number'>338</span>
<span class='line-number'>339</span>
<span class='line-number'>340</span>
<span class='line-number'>341</span>
<span class='line-number'>342</span>
<span class='line-number'>343</span>
<span class='line-number'>344</span>
<span class='line-number'>345</span>
<span class='line-number'>346</span>
<span class='line-number'>347</span>
<span class='line-number'>348</span>
<span class='line-number'>349</span>
<span class='line-number'>350</span>
<span class='line-number'>351</span>
<span class='line-number'>352</span>
<span class='line-number'>353</span>
<span class='line-number'>354</span>
<span class='line-number'>355</span>
<span class='line-number'>356</span>
<span class='line-number'>357</span>
<span class='line-number'>358</span>
<span class='line-number'>359</span>
<span class='line-number'>360</span>
<span class='line-number'>361</span>
<span class='line-number'>362</span>
<span class='line-number'>363</span>
<span class='line-number'>364</span>
<span class='line-number'>365</span>
<span class='line-number'>366</span>
<span class='line-number'>367</span>
<span class='line-number'>368</span>
<span class='line-number'>369</span>
<span class='line-number'>370</span>
<span class='line-number'>371</span>
<span class='line-number'>372</span>
<span class='line-number'>373</span>
<span class='line-number'>374</span>
<span class='line-number'>375</span>
<span class='line-number'>376</span>
<span class='line-number'>377</span>
<span class='line-number'>378</span>
<span class='line-number'>379</span>
<span class='line-number'>380</span>
<span class='line-number'>381</span>
<span class='line-number'>382</span>
<span class='line-number'>383</span>
<span class='line-number'>384</span>
<span class='line-number'>385</span>
<span class='line-number'>386</span>
<span class='line-number'>387</span>
<span class='line-number'>388</span>
<span class='line-number'>389</span>
<span class='line-number'>390</span>
<span class='line-number'>391</span>
<span class='line-number'>392</span>
<span class='line-number'>393</span>
<span class='line-number'>394</span>
<span class='line-number'>395</span>
<span class='line-number'>396</span>
<span class='line-number'>397</span>
<span class='line-number'>398</span>
<span class='line-number'>399</span>
<span class='line-number'>400</span>
<span class='line-number'>401</span>
<span class='line-number'>402</span>
<span class='line-number'>403</span>
<span class='line-number'>404</span>
<span class='line-number'>405</span>
<span class='line-number'>406</span>
<span class='line-number'>407</span>
<span class='line-number'>408</span>
<span class='line-number'>409</span>
<span class='line-number'>410</span>
<span class='line-number'>411</span>
<span class='line-number'>412</span>
<span class='line-number'>413</span>
<span class='line-number'>414</span>
<span class='line-number'>415</span>
<span class='line-number'>416</span>
<span class='line-number'>417</span>
<span class='line-number'>418</span>
<span class='line-number'>419</span>
<span class='line-number'>420</span>
<span class='line-number'>421</span>
<span class='line-number'>422</span>
<span class='line-number'>423</span>
<span class='line-number'>424</span>
<span class='line-number'>425</span>
<span class='line-number'>426</span>
<span class='line-number'>427</span>
<span class='line-number'>428</span>
<span class='line-number'>429</span>
<span class='line-number'>430</span>
<span class='line-number'>431</span>
<span class='line-number'>432</span>
<span class='line-number'>433</span>
<span class='line-number'>434</span>
<span class='line-number'>435</span>
<span class='line-number'>436</span>
<span class='line-number'>437</span>
<span class='line-number'>438</span>
<span class='line-number'>439</span>
<span class='line-number'>440</span>
<span class='line-number'>441</span>
<span class='line-number'>442</span>
<span class='line-number'>443</span>
<span class='line-number'>444</span>
<span class='line-number'>445</span>
<span class='line-number'>446</span>
<span class='line-number'>447</span>
<span class='line-number'>448</span>
<span class='line-number'>449</span>
<span class='line-number'>450</span>
<span class='line-number'>451</span>
<span class='line-number'>452</span>
<span class='line-number'>453</span>
<span class='line-number'>454</span>
<span class='line-number'>455</span>
<span class='line-number'>456</span>
<span class='line-number'>457</span>
<span class='line-number'>458</span>
<span class='line-number'>459</span>
<span class='line-number'>460</span>
<span class='line-number'>461</span>
<span class='line-number'>462</span>
<span class='line-number'>463</span>
<span class='line-number'>464</span>
<span class='line-number'>465</span>
<span class='line-number'>466</span>
<span class='line-number'>467</span>
<span class='line-number'>468</span>
<span class='line-number'>469</span>
<span class='line-number'>470</span>
<span class='line-number'>471</span>
<span class='line-number'>472</span>
<span class='line-number'>473</span>
<span class='line-number'>474</span>
<span class='line-number'>475</span>
<span class='line-number'>476</span>
<span class='line-number'>477</span>
<span class='line-number'>478</span>
<span class='line-number'>479</span>
<span class='line-number'>480</span>
<span class='line-number'>481</span>
<span class='line-number'>482</span>
<span class='line-number'>483</span>
<span class='line-number'>484</span>
<span class='line-number'>485</span>
<span class='line-number'>486</span>
<span class='line-number'>487</span>
<span class='line-number'>488</span>
<span class='line-number'>489</span>
<span class='line-number'>490</span>
<span class='line-number'>491</span>
<span class='line-number'>492</span>
<span class='line-number'>493</span>
<span class='line-number'>494</span>
<span class='line-number'>495</span>
<span class='line-number'>496</span>
<span class='line-number'>497</span>
<span class='line-number'>498</span>
<span class='line-number'>499</span>
<span class='line-number'>500</span>
<span class='line-number'>501</span>
<span class='line-number'>502</span>
<span class='line-number'>503</span>
<span class='line-number'>504</span>
<span class='line-number'>505</span>
<span class='line-number'>506</span>
<span class='line-number'>507</span>
<span class='line-number'>508</span>
<span class='line-number'>509</span>
<span class='line-number'>510</span>
<span class='line-number'>511</span>
<span class='line-number'>512</span>
<span class='line-number'>513</span>
<span class='line-number'>514</span>
<span class='line-number'>515</span>
<span class='line-number'>516</span>
<span class='line-number'>517</span>
<span class='line-number'>518</span>
<span class='line-number'>519</span>
<span class='line-number'>520</span>
<span class='line-number'>521</span>
<span class='line-number'>522</span>
<span class='line-number'>523</span>
<span class='line-number'>524</span>
<span class='line-number'>525</span>
<span class='line-number'>526</span>
<span class='line-number'>527</span>
<span class='line-number'>528</span>
<span class='line-number'>529</span>
<span class='line-number'>530</span>
<span class='line-number'>531</span>
<span class='line-number'>532</span>
<span class='line-number'>533</span>
<span class='line-number'>534</span>
<span class='line-number'>535</span>
<span class='line-number'>536</span>
<span class='line-number'>537</span>
<span class='line-number'>538</span>
<span class='line-number'>539</span>
<span class='line-number'>540</span>
<span class='line-number'>541</span>
<span class='line-number'>542</span>
<span class='line-number'>543</span>
<span class='line-number'>544</span>
<span class='line-number'>545</span>
<span class='line-number'>546</span>
<span class='line-number'>547</span>
<span class='line-number'>548</span>
<span class='line-number'>549</span>
<span class='line-number'>550</span>
<span class='line-number'>551</span>
<span class='line-number'>552</span>
<span class='line-number'>553</span>
<span class='line-number'>554</span>
<span class='line-number'>555</span>
<span class='line-number'>556</span>
<span class='line-number'>557</span>
<span class='line-number'>558</span>
<span class='line-number'>559</span>
<span class='line-number'>560</span>
<span class='line-number'>561</span>
<span class='line-number'>562</span>
<span class='line-number'>563</span>
<span class='line-number'>564</span>
<span class='line-number'>565</span>
<span class='line-number'>566</span>
<span class='line-number'>567</span>
<span class='line-number'>568</span>
<span class='line-number'>569</span>
<span class='line-number'>570</span>
<span class='line-number'>571</span>
<span class='line-number'>572</span>
<span class='line-number'>573</span>
<span class='line-number'>574</span>
<span class='line-number'>575</span>
<span class='line-number'>576</span>
<span class='line-number'>577</span>
<span class='line-number'>578</span>
<span class='line-number'>579</span>
<span class='line-number'>580</span>
<span class='line-number'>581</span>
<span class='line-number'>582</span>
<span class='line-number'>583</span>
<span class='line-number'>584</span>
<span class='line-number'>585</span>
<span class='line-number'>586</span>
<span class='line-number'>587</span>
<span class='line-number'>588</span>
<span class='line-number'>589</span>
<span class='line-number'>590</span>
<span class='line-number'>591</span>
<span class='line-number'>592</span>
<span class='line-number'>593</span>
<span class='line-number'>594</span>
<span class='line-number'>595</span>
<span class='line-number'>596</span>
<span class='line-number'>597</span>
<span class='line-number'>598</span>
<span class='line-number'>599</span>
<span class='line-number'>600</span>
<span class='line-number'>601</span>
<span class='line-number'>602</span>
<span class='line-number'>603</span>
<span class='line-number'>604</span>
<span class='line-number'>605</span>
<span class='line-number'>606</span>
<span class='line-number'>607</span>
<span class='line-number'>608</span>
<span class='line-number'>609</span>
<span class='line-number'>610</span>
<span class='line-number'>611</span>
<span class='line-number'>612</span>
<span class='line-number'>613</span>
<span class='line-number'>614</span>
<span class='line-number'>615</span>
</pre></td><td class='code'><pre><code class='scm'><span class='line'><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; Setting By Hua Liang [ [ Stupid ET ] Cedric Porter ]</span>
</span><span class='line'><span class="c1">;; Mail:    et@everet.org</span>
</span><span class='line'><span class="c1">;; website: http://EverET.org&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;Personal information</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">user-full-name</span> <span class="err">“</span><span class="nv">Cedric</span> <span class="nv">Porter</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">user-mail-address</span> <span class="err">“</span><span class="nv">cedricporter@gmail</span><span class="o">.</span><span class="nv">com</span><span class="err">”</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">set-default-font</span> <span class="err">“</span><span class="nv">Ubuntu</span> <span class="nv">Mono-12</span><span class="err">”</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; Add plugins to load-path.</span>
</span><span class='line'><span class="c1">;; We will put some tiny plugins in it</span>
</span><span class='line'><span class="p">(</span><span class="nf">add-to-list</span> <span class="err">‘</span><span class="nv">load-path</span> <span class="err">“</span><span class="nv">~/</span><span class="o">.</span><span class="nv">emacs</span><span class="o">.</span><span class="nv">d/plugins/</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">add-to-list</span> <span class="err">‘</span><span class="nv">load-path</span> <span class="err">“</span><span class="nv">~/</span><span class="o">.</span><span class="nv">emacs</span><span class="o">.</span><span class="nv">d/plugins/configs</span><span class="err">”</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; ====================      line number      ====================</span>
</span><span class='line'><span class="c1">;; 调用linum.el(line number)来显示行号：</span>
</span><span class='line'><span class="p">(</span><span class="nf">require</span> <span class="err">‘</span><span class="nv">linum</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">global-linum-mode</span> <span class="nv">t</span><span class="p">)</span>
</span><span class='line'><span class="c1">;; ——————–      End         ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;======================    time setting        =====================</span>
</span><span class='line'><span class="c1">;;启用时间显示设置，在minibuffer上面的那个杠上（忘了叫什么来着）</span>
</span><span class='line'><span class="p">(</span><span class="nf">display-time-mode</span> <span class="mi">1</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;时间使用24小时制</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-24hr-format</span> <span class="nv">t</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;时间显示包括日期和具体时间</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-day-and-date</span> <span class="nv">t</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;时间栏旁边启用邮件设置</span>
</span><span class='line'><span class="c1">;(setq display-time-use-mail-icon t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;时间的变化频率</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-interval</span> <span class="mi">10</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;显示时间，格式如下</span>
</span><span class='line'><span class="p">(</span><span class="nf">display-time-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-24hr-format</span> <span class="nv">t</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-day-and-date</span> <span class="nv">t</span><span class="p">)</span>
</span><span class='line'><span class="c1">;;———————-    END    time setting    ———————&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; ==================== recent-jump ====================</span>
</span><span class='line'><span class="c1">;; set recent-jump</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">recent-jump-threshold</span> <span class="mi">4</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">recent-jump-ring-length</span> <span class="mi">10</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">C-o</span><span class="err">”</span><span class="p">)</span> <span class="err">‘</span><span class="nv">recent-jump-jump-backward</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">M-o</span><span class="err">”</span><span class="p">)</span> <span class="err">‘</span><span class="nv">recent-jump-jump-forward</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">require</span> <span class="err">‘</span><span class="nv">recent-jump</span><span class="p">)</span>
</span><span class='line'><span class="c1">;; ——————– end of recent-jump ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; ==================== UI setting ====================</span>
</span><span class='line'><span class="c1">;; 实现全屏效果，快捷键为f11</span>
</span><span class='line'><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="nv">f11</span><span class="err">]</span> <span class="err">‘</span><span class="nv">my-fullscreen</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-fullscreen</span> <span class="p">()</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">x-send-client-message</span>
</span><span class='line'>   <span class="nv">nil</span> <span class="mi">0</span> <span class="nv">nil</span> <span class="err">“</span><span class="nv">_NET_WM_STATE</span><span class="err">”</span> <span class="mi">32</span>
</span><span class='line'>   <span class="err">‘</span><span class="p">(</span><span class="mi">2</span> <span class="err">“</span><span class="nv">_NET_WM_STATE_FULLSCREEN</span><span class="err">”</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>  <span class="p">)</span>
</span><span class='line'><span class="c1">;; 最大化</span>
</span><span class='line'><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-maximized</span> <span class="p">()</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">x-send-client-message</span>
</span><span class='line'>   <span class="nv">nil</span> <span class="mi">0</span> <span class="nv">nil</span> <span class="err">“</span><span class="nv">_NET_WM_STATE</span><span class="err">”</span> <span class="mi">32</span>
</span><span class='line'>   <span class="err">‘</span><span class="p">(</span><span class="mi">2</span> <span class="err">“</span><span class="nv">_NET_WM_STATE_MAXIMIZED_HORZ</span><span class="err">”</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">x-send-client-message</span>
</span><span class='line'>   <span class="nv">nil</span> <span class="mi">0</span> <span class="nv">nil</span> <span class="err">“</span><span class="nv">_NET_WM_STATE</span><span class="err">”</span> <span class="mi">32</span>
</span><span class='line'>   <span class="err">‘</span><span class="p">(</span><span class="mi">2</span> <span class="err">“</span><span class="nv">_NET_WM_STATE_MAXIMIZED_VERT</span><span class="err">”</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>  <span class="p">)</span>
</span><span class='line'><span class="c1">;; 启动emacs时窗口最大化</span>
</span><span class='line'><span class="p">(</span><span class="nf">my-maximized</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; 启动窗口大小</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">default-frame-alist</span>
</span><span class='line'>      <span class="err">‘</span><span class="p">((</span><span class="nf">height</span> <span class="o">.</span> <span class="mi">35</span><span class="p">)</span> <span class="p">(</span><span class="nf">width</span> <span class="o">.</span> <span class="mi">125</span><span class="p">)</span> <span class="p">(</span><span class="nf">menu-bar-lines</span> <span class="o">.</span> <span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="nf">tool-bar-lines</span> <span class="o">.</span> <span class="mi">0</span><span class="p">)))</span>
</span><span class='line'><span class="c1">;; ——————– UI setting ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; 在Emacs23里，可以用命令M-x quick-calc或快捷键C-x * q来启动Quick Calculator模式。</span>
</span><span class='line'><span class="c1">;; 这是一个非常小巧的工具，启动后会在minibuffer里提示输入数学计算式，回车就显示结果。</span>
</span><span class='line'><span class="c1">;; 这个模式能非常方便地用来做一些基本的数学运算，比用系统自带的计算器来得方便、快捷一些。&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; ==================== Common Setting ====================&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;去掉菜单栏，将F10绑定为显示菜单栏，需要菜单栏了可以摁F10调出，再摁F10就去掉菜单</span>
</span><span class='line'><span class="c1">;; 如果总是不显示工具栏，将下面代码加到.emacs中</span>
</span><span class='line'><span class="c1">;; 参考： http://www.emacswiki.org/emacs/ToolBar</span>
</span><span class='line'><span class="c1">;; 注意：在menu-bar不显示的情况下，按ctrl+鼠标右键还是能调出菜单选项的</span>
</span><span class='line'><span class="p">(</span><span class="nf">tool-bar-mode</span> <span class="mi">-1</span><span class="p">)</span>
</span><span class='line'><span class="c1">;; 如果总是不显示菜单，将下面代码加到.emacs中</span>
</span><span class='line'><span class="c1">;;参考： http://www.emacswiki.org/emacs/MenuBar</span>
</span><span class='line'><span class="p">(</span><span class="nf">menu-bar-mode</span> <span class="mi">-1</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; eliminate long “yes” or “no” prompts</span>
</span><span class='line'><span class="p">(</span><span class="nf">fset</span> <span class="err">‘</span><span class="nv">yes-or-no-p</span> <span class="err">‘</span><span class="nv">y-or-n-p</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; 方便的在 kill-ring 里寻找需要的东西。</span>
</span><span class='line'><span class="p">(</span><span class="nf">require</span> <span class="err">‘</span><span class="nv">browse-kill-ring</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">browse-kill-ring-default-keybindings</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">“\</span><span class="nv">C-c</span><span class="err">\</span><span class="nv">C-k</span><span class="err">”</span> <span class="err">‘</span><span class="nv">browse-kill-ring</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; 4.1 在单元格之间移动</span>
</span><span class='line'><span class="c1">;; table-forward-celltab</span>
</span><span class='line'><span class="c1">;; table-backward-cellshift+tab</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; 4.2 合并单元格</span>
</span><span class='line'><span class="c1">;; table-span-cell</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; 4.3 拆分单元格</span>
</span><span class='line'><span class="c1">;; +—————————————+—————+</span>
</span><span class='line'><span class="c1">;; |table-split-cell-horizontally          |C-c C-c -      |</span>
</span><span class='line'><span class="c1">;; +—————————————+—————+</span>
</span><span class='line'><span class="c1">;; |table-split-cell-vertically            |C-c C-c |      |</span>
</span><span class='line'><span class="c1">;; +—————————————+—————+</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; 4.4 扩大或缩小单元格的宽度、高度</span>
</span><span class='line'><span class="c1">;; +————————————–+———-+</span>
</span><span class='line'><span class="c1">;; |垂直扩大：table-highten-cell          |C-c C-c } |</span>
</span><span class='line'><span class="c1">;; |                                      |          |</span>
</span><span class='line'><span class="c1">;; +————————————–+———-+</span>
</span><span class='line'><span class="c1">;; |垂直缩小：table-shorten-cell          |C-c C-c { |</span>
</span><span class='line'><span class="c1">;; |                                      |          |</span>
</span><span class='line'><span class="c1">;; +————————————–+———-+</span>
</span><span class='line'><span class="c1">;; |水平扩大: table-widen-cell            |C-c C-c &amp;gt; |</span>
</span><span class='line'><span class="c1">;; |                                      |          |</span>
</span><span class='line'><span class="c1">;; +————————————–+———-+</span>
</span><span class='line'><span class="c1">;; |水平缩小：table-narrow-cell           |C-c C-c &amp;lt; |</span>
</span><span class='line'><span class="c1">;; |                                      |          |</span>
</span><span class='line'><span class="c1">;; +————————————–+———-+</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; 5、单元格对齐方式</span>
</span><span class='line'><span class="c1">;; +—————————————+———–+</span>
</span><span class='line'><span class="c1">;; |命令：table-justify                    |C-c C-c :  |</span>
</span><span class='line'><span class="c1">;; +—————————————+———–+&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; 可以“所见即所得”的编辑一个文本模式的 表格。</span>
</span><span class='line'><span class="p">(</span><span class="nf">autoload</span> <span class="err">‘</span><span class="nv">table-insert</span> <span class="err">“</span><span class="nv">table</span><span class="err">”</span> <span class="err">“</span><span class="nv">WYGIWYS</span> <span class="nv">table</span> <span class="nv">editor</span><span class="err">”</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; 解决汉字表格对齐问题，也就是设置等宽汉字</span>
</span><span class='line'><span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nf">fboundp</span> <span class="err">‘</span><span class="nv">daemonp</span><span class="p">)</span> <span class="p">(</span><span class="nf">daemonp</span><span class="p">))</span>
</span><span class='line'>    <span class="p">(</span><span class="nf">add-hook</span> <span class="err">‘</span><span class="nv">after-make-frame-functions</span>
</span><span class='line'>              <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">frame</span><span class="p">)</span>
</span><span class='line'>                <span class="p">(</span><span class="nf">with-selected-frame</span> <span class="nv">frame</span>
</span><span class='line'>                  <span class="p">(</span><span class="nf">set-fontset-font</span> <span class="err">“</span><span class="nv">fontset-default</span><span class="err">”</span>
</span><span class='line'>                                    <span class="err">‘</span><span class="nv">chinese-gbk</span> <span class="err">“</span><span class="nv">WenQuanYi</span> <span class="nv">Micro</span> <span class="nv">Hei</span> <span class="nv">Mono</span> <span class="mi">12</span><span class="err">”</span><span class="p">))))</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">set-fontset-font</span> <span class="err">“</span><span class="nv">fontset-default</span><span class="err">”</span> <span class="err">‘</span><span class="nv">chinese-gbk</span> <span class="err">“</span><span class="nv">WenQuanYi</span> <span class="nv">Micro</span> <span class="nv">Hei</span> <span class="nv">Mono</span> <span class="mi">12</span><span class="err">”</span><span class="p">))</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;设置句尾</span>
</span><span class='line'><span class="p">(</span><span class="nf">setq</span> <span class="nv">sentence-end</span> <span class="err">“\</span><span class="p">(</span><span class="err">[。！？]\</span><span class="nv">|</span><span class="err">……\</span><span class="nv">|</span><span class="err">[</span><span class="o">.</span><span class="nv">?!</span><span class="err">][]</span><span class="s">&quot;’)}]&lt;em&gt;\($\|[ \t]\)\)[ \t\n]&lt;/em&gt;”)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;直接打开图片</span>
</span><span class='line'><span class="s">(auto-image-file-mode)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; take the place of C-x C-f</span>
</span><span class='line'><span class="s">;; 当你输入了一些字符后，系统会自动帮你补全；</span>
</span><span class='line'><span class="s">;; C-s(next)或是C-r(previous)用来在列表中循环；</span>
</span><span class='line'><span class="s">;; 按[Tab]键会自动列出可能的补全方法；</span>
</span><span class='line'><span class="s">;; 用C-x C-d直接打开当前目录的Dired浏览模式；</span>
</span><span class='line'><span class="s">(require ‘ido)</span>
</span><span class='line'><span class="s">(ido-mode t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 去掉滚动栏</span>
</span><span class='line'><span class="s">(scroll-bar-mode nil)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 一打开就起用 text 模式。</span>
</span><span class='line'><span class="s">(setq default-major-mode ‘text-mode)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 语法高亮</span>
</span><span class='line'><span class="s">(global-font-lock-mode t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;use meta and direction key to go to the window</span>
</span><span class='line'><span class="s">(windmove-default-keybindings ‘meta)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; session</span>
</span><span class='line'><span class="s">(require ‘session)</span>
</span><span class='line'><span class="s">(add-hook ‘after-init-hook ‘session-initialize)</span>
</span><span class='line'><span class="s">(load “desktop”)</span>
</span><span class='line'><span class="s">(desktop-save-mode)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; back to last position when we close the file</span>
</span><span class='line'><span class="s">(require ‘saveplace)</span>
</span><span class='line'><span class="s">(setq-default save-place t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;tabbar</span>
</span><span class='line'><span class="s">(require ‘tabbar)</span>
</span><span class='line'><span class="s">(tabbar-mode 1)</span>
</span><span class='line'><span class="s">(global-set-key [(meta j)] ‘tabbar-backward)</span>
</span><span class='line'><span class="s">(global-set-key [(meta k)] ‘tabbar-forward)</span>
</span><span class='line'><span class="s">(global-set-key [(control meta j)] ‘tabbar-backward-group)</span>
</span><span class='line'><span class="s">(global-set-key [(control meta k)] ‘tabbar-forward-group)</span>
</span><span class='line'><span class="s">;;set group strategy</span>
</span><span class='line'><span class="s">(defun tabbar-buffer-groups ()</span>
</span><span class='line'><span class="s">  “tabbar group”</span>
</span><span class='line'><span class="s">  (list</span>
</span><span class='line'><span class="s">   (cond</span>
</span><span class='line'><span class="s">    ((memq major-mode ‘(shell-mode dired-mode))</span>
</span><span class='line'><span class="s">     “shell”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    ((memq major-mode ‘(c-mode c++-mode))</span>
</span><span class='line'><span class="s">     “cc”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    ((eq major-mode ‘python-mode)</span>
</span><span class='line'><span class="s">     “python”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    ((memq major-mode</span>
</span><span class='line'><span class="s">	   ‘(php-mode nxml-mode nxhtml-mode))</span>
</span><span class='line'><span class="s">     “WebDev”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    ((eq major-mode ‘emacs-lisp-mode)</span>
</span><span class='line'><span class="s">      “Emacs-lisp”</span>
</span><span class='line'><span class="s">      )</span>
</span><span class='line'><span class="s">    ((memq major-mode</span>
</span><span class='line'><span class="s">	   ‘(tex-mode latex-mode text-mode snippet-mode))</span>
</span><span class='line'><span class="s">     “Text”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    ((string-equal “*” (substring (buffer-name) 0 1))</span>
</span><span class='line'><span class="s">     “emacs”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    (t</span>
</span><span class='line'><span class="s">     “other”</span>
</span><span class='line'><span class="s">     )</span>
</span><span class='line'><span class="s">    )))</span>
</span><span class='line'><span class="s">(setq tabbar-buffer-groups-function ‘tabbar-buffer-groups)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;;; 设置tabbar外观</span>
</span><span class='line'><span class="s">;; 设置默认主题: 字体, 背景和前景颜色，大小</span>
</span><span class='line'><span class="s">(set-face-attribute ‘tabbar-default nil</span>
</span><span class='line'><span class="s">                    :family “Vera Sans YuanTi Mono”</span>
</span><span class='line'><span class="s">                    :background “gray80”</span>
</span><span class='line'><span class="s">                    :foreground “gray10”</span>
</span><span class='line'><span class="s">                    :height 1.0</span>
</span><span class='line'><span class="s">                    )</span>
</span><span class='line'><span class="s">;; 设置左边按钮外观：外框框边大小和颜色</span>
</span><span class='line'><span class="s">(set-face-attribute ‘tabbar-button nil</span>
</span><span class='line'><span class="s">                    :inherit ‘tabbar-default</span>
</span><span class='line'><span class="s">                    :box ‘(:line-width 1 :color “gray30”)</span>
</span><span class='line'><span class="s">                    )</span>
</span><span class='line'><span class="s">;; 设置当前tab外观：颜色，字体，外框大小和颜色</span>
</span><span class='line'><span class="s">(set-face-attribute ‘tabbar-selected nil</span>
</span><span class='line'><span class="s">                    :inherit ‘tabbar-default</span>
</span><span class='line'><span class="s">                    :foreground “DarkGreen”</span>
</span><span class='line'><span class="s">                    :background “LightGoldenrod”</span>
</span><span class='line'><span class="s">                    :box ‘(:line-width 2 :color “DarkGoldenrod”)</span>
</span><span class='line'><span class="s">                    ;; :overline “black”</span>
</span><span class='line'><span class="s">                    ;; :underline “black”</span>
</span><span class='line'><span class="s">                    :weight ‘bold</span>
</span><span class='line'><span class="s">                    )</span>
</span><span class='line'><span class="s">;; 设置非当前tab外观：外框大小和颜色</span>
</span><span class='line'><span class="s">(set-face-attribute ‘tabbar-unselected nil</span>
</span><span class='line'><span class="s">                    :inherit ‘tabbar-default</span>
</span><span class='line'><span class="s">                    :box ‘(:line-width 2 :color “gray70”)</span>
</span><span class='line'><span class="s">                    )</span>
</span><span class='line'><span class="s">;; cancel grouping</span>
</span><span class='line'><span class="s">;;(setq tabbar-buffer-groups-function</span>
</span><span class='line'><span class="s">;;    (lambda (b) (list “All Buffers”)))</span>
</span><span class='line'><span class="s">;;(setq tabbar-buffer-list-function</span>
</span><span class='line'><span class="s">;;    (lambda ()</span>
</span><span class='line'><span class="s">;;        (remove-if</span>
</span><span class='line'><span class="s">;;          (lambda(buffer)</span>
</span><span class='line'><span class="s">;;             (find (aref (buffer-name buffer) 0) ” *”))</span>
</span><span class='line'><span class="s">;;          (buffer-list))))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;禁用启动信息</span>
</span><span class='line'><span class="s">;(setq inhibit-startup-message t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 回车缩进</span>
</span><span class='line'><span class="s">(global-set-key “\C-m” ‘newline-and-indent)</span>
</span><span class='line'><span class="s">(global-set-key (kbd “C-“) ‘newline)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 显示括号匹配</span>
</span><span class='line'><span class="s">(show-paren-mode t)</span>
</span><span class='line'><span class="s">(setq show-paren-style ‘parentheses)</span>
</span><span class='line'><span class="s">(require ‘highlight-parentheses)</span>
</span><span class='line'><span class="s">(highlight-parentheses-mode 1)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 显示ascii表</span>
</span><span class='line'><span class="s">(require ‘ascii)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;用一个很大的 kill ring. 这样防止我不小心删掉重要的东西。</span>
</span><span class='line'><span class="s">(setq kill-ring-max 200)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;高亮显示选中的区域</span>
</span><span class='line'><span class="s">(transient-mark-mode t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;支持emacs和外部程序的拷贝粘贴</span>
</span><span class='line'><span class="s">(setq x-select-enable-clipboard t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;在标题栏提示当前位置</span>
</span><span class='line'><span class="s">(setq frame-title-format “ET@%b”)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;使用C-k删掉指针到改行末的所有东西</span>
</span><span class='line'><span class="s">(setq-default kill-whole-line t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== 注释 ====================</span>
</span><span class='line'><span class="s">(global-set-key (kbd “C-c c”) ‘comment-or-uncomment-region)</span>
</span><span class='line'><span class="s">(global-set-key (kbd “C-c b”) ‘comment-box)</span>
</span><span class='line'><span class="s">(global-set-key (kbd “C-c k”) ‘comment-kill)</span>
</span><span class='line'><span class="s">;;——————– end ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;(require ‘doxygen-config.el)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== color theme ====================</span>
</span><span class='line'><span class="s">(add-to-list ‘load-path “~/.emacs.d/plugins/color-theme-6.6.0/”)</span>
</span><span class='line'><span class="s">(require ‘color-theme)</span>
</span><span class='line'><span class="s">(load-file “~/.emacs.d/plugins/color-theme-6.6.0/themes/color-theme-library.el”)</span>
</span><span class='line'><span class="s">;;(require ‘color-theme-library)</span>
</span><span class='line'><span class="s">;;(color-theme-charcoal-black)</span>
</span><span class='line'><span class="s">;;(color-theme-taylor)</span>
</span><span class='line'><span class="s">(color-theme-taylor-et)</span>
</span><span class='line'><span class="s">;;——————– color theme ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== evil ====================</span>
</span><span class='line'><span class="s">;;vi emulator</span>
</span><span class='line'><span class="s">(setq evil-want-C-i-jump t)</span>
</span><span class='line'><span class="s">(setq evil-want-C-u-scroll t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(add-to-list ‘load-path “~/.emacs.d/plugins/evil”)</span>
</span><span class='line'><span class="s">(require ‘evil)</span>
</span><span class='line'><span class="s">(evil-mode 1)</span>
</span><span class='line'><span class="s">(require ‘surround)</span>
</span><span class='line'><span class="s">(global-surround-mode 1)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;(global-set-key [(kdb “C-u”)] ‘evil-scroll-up)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(define-key evil-normal-state-map “,i” ‘ibuffer)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,bs” ‘ido-switch-buffer)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,bd” ‘kill-this-buffer)</span>
</span><span class='line'><span class="s">;(define-key evil-normal-state-map “,m” ‘magit-status)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,w” ‘save-buffer)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “ZZ” (kbd “C-c C-c”))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; org-mode relaterat</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,a” ‘org-agenda)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; lisp-relaterat som annars inte verkar fungera</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,hv” ‘describe-variable)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,hk” ‘describe-key)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,hf” ‘describe-function)</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,hm” ‘describe-mode)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; window</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,0” ‘delete-window)         ;delete this window, same as C-x 0</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,1” ‘delete-other-windows)  ;delete other windows</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,2” ‘split-window-up-down)  ;split the window to up and down windows, which the upper one is bigger</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,3” ‘split-window-3)        ;split the window to 3 window, left big</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,4” ‘split-window-4)        ;split the window into 4 equal size window</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,q” ‘winner-undo)	       ;undo, in other word, restore to previous window style</span>
</span><span class='line'><span class="s">(define-key evil-normal-state-map “,Q” ‘winner-redo)	       ;redo window style change&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; End of evil config copied from monotux@reddit</span>
</span><span class='line'><span class="s">;;——————– evil ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== undo tree ====================</span>
</span><span class='line'><span class="s">(require ‘undo-tree)</span>
</span><span class='line'><span class="s">;;——————– undo tree ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(require ‘window-setting)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== yasnippt ====================</span>
</span><span class='line'><span class="s">(add-to-list ‘load-path “~/.emacs.d/plugins/yasnippet”)</span>
</span><span class='line'><span class="s">(require ‘yasnippet)</span>
</span><span class='line'><span class="s">(yas/initialize)</span>
</span><span class='line'><span class="s">(yas/load-directory “~/.emacs.d/plugins/yasnippet/snippets”)</span>
</span><span class='line'><span class="s">;;——————– yasnippt ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== auto complete ====================</span>
</span><span class='line'><span class="s">;; auto complete with clang</span>
</span><span class='line'><span class="s">(add-to-list ‘load-path “~/.emacs.d/plugins/auto-complete”)</span>
</span><span class='line'><span class="s">(require ‘auto-complete-config)</span>
</span><span class='line'><span class="s">(add-to-list ‘ac-dictionary-directories “~/.emacs.d/plugins/auto-complete/ac-dict/”)</span>
</span><span class='line'><span class="s">(require ‘auto-complete-clang)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(setq ac-auto-start 1)</span>
</span><span class='line'><span class="s">(setq ac-quick-help-delay 0.5)</span>
</span><span class='line'><span class="s">;; (ac-set-trigger-key “TAB”)</span>
</span><span class='line'><span class="s">(define-key ac-mode-map [(control tab)] ‘auto-complete)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(defun my-ac-config ()</span>
</span><span class='line'><span class="s">  (setq-default ac-sources ‘(ac-source-abbrev ac-source-dictionary ac-source-words-in-same-mode-buffers))</span>
</span><span class='line'><span class="s">  (add-hook ‘emacs-lisp-mode-hook ‘ac-emacs-lisp-mode-setup)</span>
</span><span class='line'><span class="s">  ;; (add-hook ‘c-mode-common-hook ‘ac-cc-mode-setup)</span>
</span><span class='line'><span class="s">  (add-hook ‘ruby-mode-hook ‘ac-ruby-mode-setup)</span>
</span><span class='line'><span class="s">  (add-hook ‘css-mode-hook ‘ac-css-mode-setup)</span>
</span><span class='line'><span class="s">  (add-hook ‘auto-complete-mode-hook ‘ac-common-setup)</span>
</span><span class='line'><span class="s">  (global-auto-complete-mode t))</span>
</span><span class='line'><span class="s">(defun my-ac-cc-mode-setup ()</span>
</span><span class='line'><span class="s">  (setq ac-sources (append ‘(ac-source-clang ac-source-yasnippet) ac-sources)))</span>
</span><span class='line'><span class="s">(add-hook ‘c-mode-common-hook ‘my-ac-cc-mode-setup)</span>
</span><span class='line'><span class="s">;; ac-source-gtags</span>
</span><span class='line'><span class="s">(my-ac-config)</span>
</span><span class='line'><span class="s">;; ——————– end of auto complete ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== python ====================</span>
</span><span class='line'><span class="s">(require ‘python)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(autoload ‘python-mode “python-mode” “Python Mode.” t)</span>
</span><span class='line'><span class="s">(add-to-list ‘auto-mode-alist ‘(“\.py\’” . python-mode))</span>
</span><span class='line'><span class="s">(add-to-list ‘interpreter-mode-alist ‘(“python” . python-mode))</span>
</span><span class='line'><span class="s">(add-to-list ‘load-path “~/.emacs.d/plugins/Pymacs”)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(require ‘pymacs)</span>
</span><span class='line'><span class="s">(autoload ‘pymacs-apply “pymacs”)</span>
</span><span class='line'><span class="s">(autoload ‘pymacs-call “pymacs”)</span>
</span><span class='line'><span class="s">(autoload ‘pymacs-eval “pymacs” nil t)</span>
</span><span class='line'><span class="s">(autoload ‘pymacs-exec “pymacs” nil t)</span>
</span><span class='line'><span class="s">(autoload ‘pymacs-load “pymacs” nil t)</span>
</span><span class='line'><span class="s">(autoload ‘pymacs-autoload “pymacs”)</span>
</span><span class='line'><span class="s">;;(eval-after-load “pymacs”</span>
</span><span class='line'><span class="s">;;  ‘(add-to-list ‘pymacs-load-path YOUR-PYMACS-DIRECTORY”))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;; Initialize Rope</span>
</span><span class='line'><span class="s">(pymacs-load “ropemacs” “rope-“)</span>
</span><span class='line'><span class="s">(setq ropemacs-enable-autoimport t)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(ac-ropemacs-initialize)</span>
</span><span class='line'><span class="s">(add-hook ‘python-mode-hook</span>
</span><span class='line'><span class="s">	  (lambda ()</span>
</span><span class='line'><span class="s">	    (add-to-list ‘ac-sources ‘ac-source-ropemacs)))</span>
</span><span class='line'><span class="s">;;——————– python ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;==================== cedet ====================</span>
</span><span class='line'><span class="s">(add-to-list ‘load-path “~/.emacs.d/plugins/cedet/common”)</span>
</span><span class='line'><span class="s">;;(add-to-list ‘load-path “~/.emacs.d/plugins/cedet/semantic”)</span>
</span><span class='line'><span class="s">(require ‘cedet)</span>
</span><span class='line'><span class="s">(require ‘semantic-ia)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(global-ede-mode 1)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(global-srecode-minor-mode 1)</span>
</span><span class='line'><span class="s">;;——————– cedet ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; (setq semanticdb-project-roots (list (expand-file-name “/”)))</span>
</span><span class='line'><span class="s">(defconst cedet-user-include-dirs</span>
</span><span class='line'><span class="s">  (list “..” “../include” “../inc” “../common” “../public” “../lib”</span>
</span><span class='line'><span class="s">        “../..” “../../include” “../../inc” “../../common” “../../public”))</span>
</span><span class='line'><span class="s">(defconst cedet-win32-include-dirs</span>
</span><span class='line'><span class="s">  (list “C:/MinGW/include”</span>
</span><span class='line'><span class="s">        “C:/MinGW/include/c++/3.4.5”</span>
</span><span class='line'><span class="s">        “C:/MinGW/include/c++/3.4.5/mingw32”</span>
</span><span class='line'><span class="s">        “C:/MinGW/include/c++/3.4.5/backward”</span>
</span><span class='line'><span class="s">        “C:/MinGW/lib/gcc/mingw32/3.4.5/include”</span>
</span><span class='line'><span class="s">        “C:/Program Files/Microsoft Visual Studio/VC98/MFC/Include”))</span>
</span><span class='line'><span class="s">(require ‘semantic-c nil ‘noerror)</span>
</span><span class='line'><span class="s">(let ((include-dirs cedet-user-include-dirs))</span>
</span><span class='line'><span class="s">  ;(when (eq system-type ‘windows-nt)</span>
</span><span class='line'><span class="s">  ;  (setq include-dirs (append include-dirs cedet-win32-include-dirs)))</span>
</span><span class='line'><span class="s">  (mapc (lambda (dir)</span>
</span><span class='line'><span class="s">          (semantic-add-system-include dir ‘c++-mode)</span>
</span><span class='line'><span class="s">          (semantic-add-system-include dir ‘c-mode))</span>
</span><span class='line'><span class="s">        include-dirs))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; code folding</span>
</span><span class='line'><span class="s">(when (and window-system (require ‘semantic-tag-folding nil ‘noerror))</span>
</span><span class='line'><span class="s">  (global-semantic-tag-folding-mode 1)</span>
</span><span class='line'><span class="s">  (global-set-key (kbd “C-?”) ‘global-semantic-tag-folding-mode)</span>
</span><span class='line'><span class="s">  (define-key semantic-tag-folding-mode-map (kbd “C-c , -“) ‘semantic-tag-folding-fold-block)</span>
</span><span class='line'><span class="s">  (define-key semantic-tag-folding-mode-map (kbd “C-c , +”) ‘semantic-tag-folding-show-block)</span>
</span><span class='line'><span class="s">  (define-key semantic-tag-folding-mode-map (kbd “C-_”) ‘semantic-tag-folding-fold-all)</span>
</span><span class='line'><span class="s">  (define-key semantic-tag-folding-mode-map (kbd “C-+”) ‘semantic-tag-folding-show-all))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; ==================== semantic ====================</span>
</span><span class='line'><span class="s">;; (semantic-load-enable-minimum-features)</span>
</span><span class='line'><span class="s">(semantic-load-enable-code-helpers)</span>
</span><span class='line'><span class="s">;; (semantic-load-enable-guady-code-helpers)</span>
</span><span class='line'><span class="s">;; (semantic-load-enable-excessive-code-helpers)</span>
</span><span class='line'><span class="s">(semantic-load-enable-semantic-debugging-helpers)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; (semantic-decoration-mode 1)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; jump to definition</span>
</span><span class='line'><span class="s">(global-set-key [f12] ‘semantic-ia-fast-jump)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; go back</span>
</span><span class='line'><span class="s">(global-set-key [S-f12]</span>
</span><span class='line'><span class="s">                (lambda ()</span>
</span><span class='line'><span class="s">                  (interactive)</span>
</span><span class='line'><span class="s">                  (if (ring-empty-p (oref semantic-mru-bookmark-ring ring))</span>
</span><span class='line'><span class="s">                      (error “Semantic Bookmark ring is currently empty”))</span>
</span><span class='line'><span class="s">                  (let* ((ring (oref semantic-mru-bookmark-ring ring))</span>
</span><span class='line'><span class="s">                         (alist (semantic-mrub-ring-to-assoc-list ring))</span>
</span><span class='line'><span class="s">                         (first (cdr (car alist))))</span>
</span><span class='line'><span class="s">                    (if (semantic-equivalent-tag-p (oref first tag)</span>
</span><span class='line'><span class="s">                                                   (semantic-current-tag))</span>
</span><span class='line'><span class="s">                        (setq first (cdr (car (cdr alist)))))</span>
</span><span class='line'><span class="s">                    (semantic-mrub-switch-tags first))))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;;(define-key c-mode-base-map (kbd “M-n”) ‘semantic-ia-complete-symbol)</span>
</span><span class='line'><span class="s">;; ——————– semantic ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; ==================== gud ====================&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(gud-tooltip-mode 1)</span>
</span><span class='line'><span class="s">(add-hook ‘gdb-mode-hook ‘(lambda ()</span>
</span><span class='line'><span class="s">                            (define-key c-mode-base-map [(f5)] ‘gud-go)</span>
</span><span class='line'><span class="s">                            (define-key c-mode-base-map [(f11)] ‘gud-step)</span>
</span><span class='line'><span class="s">                            (define-key c-mode-base-map [(f10)] ‘gud-next)))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; ——————– gud ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; compile</span>
</span><span class='line'><span class="s">(setq compilation-read-command nil)	;don’t prompt to press ENTER</span>
</span><span class='line'><span class="s">(global-set-key [(f7)] (lambda()</span>
</span><span class='line'><span class="s">			 (interactive)</span>
</span><span class='line'><span class="s">			 (save-some-buffers t)	   ;save all buffers</span>
</span><span class='line'><span class="s">			 (compile compile-command) ;compile</span>
</span><span class='line'><span class="s">			 ))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(global-set-key [f4] ‘eshell)</span>
</span><span class='line'><span class="s">(global-set-key [(shift f4)] ‘shell)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;定制C/C++缩进风格</span>
</span><span class='line'><span class="s">(add-hook ‘c-mode-hook</span>
</span><span class='line'><span class="s">          ‘(lambda ()</span>
</span><span class='line'><span class="s">             (c-set-style “k&amp;amp;r;”)))</span>
</span><span class='line'><span class="s">(add-hook ‘c++-mode-hook</span>
</span><span class='line'><span class="s">          ‘(lambda ()</span>
</span><span class='line'><span class="s">             (c-set-style “stroustrup”)))&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; 设置缩进字符数</span>
</span><span class='line'><span class="s">(setq c-basic-offset 4)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;(global-set-key [(f5)] ‘speedbar)&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class='line'><span class="s">;; ;;; Auto-completion</span>
</span><span class='line'><span class="s">;; ;;;  Integrates:</span>
</span><span class='line'><span class="s">;; ;;;   1) Rope</span>
</span><span class='line'><span class="s">;; ;;;   2) Yasnippet</span>
</span><span class='line'><span class="s">;; ;;;   all with AutoComplete.el</span>
</span><span class='line'><span class="s">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class='line'><span class="s">;; (defun prefix-list-elements (list prefix)</span>
</span><span class='line'><span class="s">;;   (let (value)</span>
</span><span class='line'><span class="s">;;     (nreverse</span>
</span><span class='line'><span class="s">;;      (dolist (element list value)</span>
</span><span class='line'><span class="s">;;       (setq value (cons (format “%s%s” prefix element) value))))))</span>
</span><span class='line'><span class="s">;; (defvar ac-source-rope</span>
</span><span class='line'><span class="s">;;   ‘((candidates</span>
</span><span class='line'><span class="s">;;      . (lambda ()</span>
</span><span class='line'><span class="s">;;          (prefix-list-elements (rope-completions) ac-target))))</span>
</span><span class='line'><span class="s">;;   “Source for Rope”)</span>
</span><span class='line'><span class="s">;; (defun ac-python-find ()</span>
</span><span class='line'><span class="s">;;   “Python &lt;code&gt;ac-find-function&#39;.&quot;</span>
</span><span class='line'><span class="c1">;;   (require &#39;thingatpt)</span>
</span><span class='line'><span class="c1">;;   (let ((symbol (car-safe (bounds-of-thing-at-point &#39;symbol))))</span>
</span><span class='line'><span class="c1">;;     (if (null symbol)</span>
</span><span class='line'><span class="c1">;;         (if (string= &quot;.&quot; (buffer-substring (- (point) 1) (point)))</span>
</span><span class='line'><span class="c1">;;             (point)</span>
</span><span class='line'><span class="c1">;;           nil)</span>
</span><span class='line'><span class="c1">;;       symbol)))</span>
</span><span class='line'><span class="c1">;; (defun ac-python-candidate ()</span>
</span><span class='line'><span class="c1">;;   &quot;Python &lt;/code&gt;ac-candidates-function’”</span>
</span><span class='line'><span class="c1">;;   (let (candidates)</span>
</span><span class='line'><span class="c1">;;     (dolist (source ac-sources)</span>
</span><span class='line'><span class="c1">;;       (if (symbolp source)</span>
</span><span class='line'><span class="c1">;;           (setq source (symbol-value source)))</span>
</span><span class='line'><span class="c1">;;       (let* ((ac-limit (or (cdr-safe (assq ‘limit source)) ac-limit))</span>
</span><span class='line'><span class="c1">;;              (requires (cdr-safe (assq ‘requires source)))</span>
</span><span class='line'><span class="c1">;;              cand)</span>
</span><span class='line'><span class="c1">;;         (if (or (null requires)</span>
</span><span class='line'><span class="c1">;;                 (&amp;gt;= (length ac-target) requires))</span>
</span><span class='line'><span class="c1">;;             (setq cand</span>
</span><span class='line'><span class="c1">;;                   (delq nil</span>
</span><span class='line'><span class="c1">;;                         (mapcar (lambda (candidate)</span>
</span><span class='line'><span class="c1">;;                                   (propertize candidate ‘source source))</span>
</span><span class='line'><span class="c1">;;                                 (funcall (cdr (assq ‘candidates source)))))))</span>
</span><span class='line'><span class="c1">;;         (if (and (&amp;gt; ac-limit 1)</span>
</span><span class='line'><span class="c1">;;                  (&amp;gt; (length cand) ac-limit))</span>
</span><span class='line'><span class="c1">;;             (setcdr (nthcdr (1- ac-limit) cand) nil))</span>
</span><span class='line'><span class="c1">;;         (setq candidates (append candidates cand))))</span>
</span><span class='line'><span class="c1">;;     (delete-dups candidates)))</span>
</span><span class='line'><span class="c1">;; (add-hook ‘python-mode-hook</span>
</span><span class='line'><span class="c1">;;           (lambda ()</span>
</span><span class='line'><span class="c1">;;                  (auto-complete-mode 1)</span>
</span><span class='line'><span class="c1">;;                  (set (make-local-variable ‘ac-sources)</span>
</span><span class='line'><span class="c1">;;                       (append ac-sources ‘(ac-source-rope) ‘(ac-source-yasnippet)))</span>
</span><span class='line'><span class="c1">;;                  (set (make-local-variable ‘ac-find-function) ‘ac-python-find)</span>
</span><span class='line'><span class="c1">;;                  (set (make-local-variable ‘ac-candidate-function) ‘ac-python-candidate)</span>
</span><span class='line'><span class="c1">;;                  (set (make-local-variable ‘ac-auto-start) nil)))</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; ;;Ryan’s python specific tab completion</span>
</span><span class='line'><span class="c1">;; (defun ryan-python-tab ()</span>
</span><span class='line'><span class="c1">;;   ; Try the following:</span>
</span><span class='line'><span class="c1">;;   ; 1) Do a yasnippet expansion</span>
</span><span class='line'><span class="c1">;;   ; 2) Do a Rope code completion</span>
</span><span class='line'><span class="c1">;;   ; 3) Do an indent</span>
</span><span class='line'><span class="c1">;;   (interactive)</span>
</span><span class='line'><span class="c1">;;   (if (eql (ac-start) 0)</span>
</span><span class='line'><span class="c1">;;       (indent-for-tab-command)))</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; (defadvice ac-start (before advice-turn-on-auto-start activate)</span>
</span><span class='line'><span class="c1">;;   (set (make-local-variable ‘ac-auto-start) t))</span>
</span><span class='line'><span class="c1">;; (defadvice ac-cleanup (after advice-turn-off-auto-start activate)</span>
</span><span class='line'><span class="c1">;;   (set (make-local-variable ‘ac-auto-start) nil))</span>
</span><span class='line'><span class="c1">;;</span>
</span><span class='line'><span class="c1">;; (define-key python-mode-map “\t” ‘ryan-python-tab)</span>
</span><span class='line'><span class="c1">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class='line'><span class="c1">;; ;;; End Auto Completion</span>
</span><span class='line'><span class="c1">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; git emacs</span>
</span><span class='line'><span class="p">(</span><span class="nf">add-to-list</span> <span class="err">‘</span><span class="nv">load-path</span> <span class="err">“</span><span class="nv">~/</span><span class="o">.</span><span class="nv">emacs</span><span class="o">.</span><span class="nv">d/plugins/git-emacs/</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">require</span> <span class="err">‘</span><span class="nv">git-emacs</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;==================== w3m ====================</span>
</span><span class='line'><span class="p">(</span><span class="nf">add-to-list</span> <span class="err">‘</span><span class="nv">load-path</span> <span class="err">“</span><span class="nv">~/</span><span class="o">.</span><span class="nv">emacs</span><span class="o">.</span><span class="nv">d/plugins/emacs-w3m-1</span><span class="o">.</span><span class="mf">4.4</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'><span class="c1">;(require ‘w3m-load)</span>
</span><span class='line'><span class="p">(</span><span class="nf">require</span> <span class="err">‘</span><span class="nv">w3m-e21</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">provide</span> <span class="err">‘</span><span class="nv">w3m-e23</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;——————– w3m ——————–&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2 id="section-1">窗口切换布局的配置</h2>

<p>这个参考了IBM的配置</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>lisp  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
</pre></td><td class='code'><pre><code class='scm'><span class='line'><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;; Setting By:  Hua Liang [ Stupid ET ]</span>
</span><span class='line'><span class="c1">;; email:       et@everet.org</span>
</span><span class='line'><span class="c1">;; website:     http://EverET.org</span>
</span><span class='line'><span class="c1">;; This is about auto setting window style.</span>
</span><span class='line'><span class="c1">;; You can read the diagram.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;==================== window ====================&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">eval-when-compile</span> <span class="p">(</span><span class="nf">require</span> <span class="err">‘</span><span class="nv">cl</span><span class="p">))</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">winner-mode</span> <span class="mi">1</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">; +———-+———–+</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; +———-+———–+</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; +———-+———–+&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-window-4</span><span class="p">()</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Splite</span> <span class="nv">window</span> <span class="nv">into</span> <span class="mi">4</span> <span class="nv">sub-window</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">2</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">)</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'>  <span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">C-x</span> <span class="mi">4</span> <span class="mi">4</span><span class="err">”</span><span class="p">)</span> <span class="err">‘</span><span class="nv">split-window-4</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">; +—————-+</span>
</span><span class='line'><span class="c1">; |                |</span>
</span><span class='line'><span class="c1">; +—————-+</span>
</span><span class='line'><span class="c1">; |                |</span>
</span><span class='line'><span class="c1">; +—————-+</span>
</span><span class='line'><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-window-up-down</span><span class="p">()</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Splite</span> <span class="nv">window</span> <span class="nv">into</span> <span class="mi">2</span> <span class="nv">up</span> <span class="k">and </span><span class="nv">down</span> <span class="nv">window</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">split-window-vertically</span> <span class="mi">-10</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">eshell</span><span class="p">)</span>
</span><span class='line'>	     <span class="p">)</span>
</span><span class='line'>    <span class="p">))</span>
</span><span class='line'><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">C-x</span> <span class="mi">4</span> <span class="mi">2</span><span class="err">”</span><span class="p">)</span> <span class="err">‘</span><span class="nv">split-window-up-down</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">; +———-+———–+</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; +          +———–+</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; |          |           |</span>
</span><span class='line'><span class="c1">; +———-+———–+</span>
</span><span class='line'><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-window-3</span><span class="p">()</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Splite</span> <span class="nv">window</span> <span class="nv">into</span> <span class="mi">3</span> <span class="nv">sub-window</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>         <span class="c1">;split to left and right</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">enlarge-window-horizontally</span> <span class="mi">15</span><span class="p">)</span>	 <span class="c1">;make the main window bigger</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>		         <span class="c1">;go to the right window</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>	         <span class="c1">;split the right window to two window</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">eshell</span><span class="p">)</span>			         <span class="c1">;open shell at left top window</span>
</span><span class='line'>	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">2</span><span class="p">)</span> 		         <span class="c1">;go back to origin window</span>
</span><span class='line'>	     <span class="p">)</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'>  <span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">C-x</span> <span class="mi">4</span> <span class="mi">3</span><span class="err">”</span><span class="p">)</span> <span class="err">‘</span><span class="nv">split-window-3</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;  +———————-+                 +————+———–+</span>
</span><span class='line'><span class="c1">;  |                      |           \     |            |           |</span>
</span><span class='line'><span class="c1">;  |                      |   +——-+\    |            |           |</span>
</span><span class='line'><span class="c1">;  +———-+———–+   +——-+/    |            +———–+</span>
</span><span class='line'><span class="c1">;  |          |           |           /     |            |           |</span>
</span><span class='line'><span class="c1">;  |          |           |                 |            |           |</span>
</span><span class='line'><span class="c1">;  +———-+———–+                 +————+———–+</span>
</span><span class='line'><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-v-3</span> <span class="p">()</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Change</span> <span class="mi">3</span> <span class="nv">window</span> <span class="nv">style</span> <span class="nv">from</span> <span class="nv">horizontal</span> <span class="nv">to</span> <span class="nv">vertical</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))))</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">message</span> <span class="err">“</span><span class="nv">%s</span> <span class="nv">%s</span> <span class="nv">%s</span><span class="err">”</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">delete-other-windows</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="p">(</span><span class="nf">next-window</span><span class="p">)</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class='line'>	  <span class="p">))))</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;  +————+———–+                  +———————-+</span>
</span><span class='line'><span class="c1">;  |            |           |            \     |                      |</span>
</span><span class='line'><span class="c1">;  |            |           |    +——-+\    |                      |</span>
</span><span class='line'><span class="c1">;  |            +———–+    +——-+/    +———-+———–+</span>
</span><span class='line'><span class="c1">;  |            |           |            /     |          |           |</span>
</span><span class='line'><span class="c1">;  |            |           |                  |          |           |</span>
</span><span class='line'><span class="c1">;  +————+———–+                  +———-+———–+&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-h-3</span> <span class="p">()</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Change</span> <span class="mi">3</span> <span class="nv">window</span> <span class="nv">style</span> <span class="nv">from</span> <span class="nv">vertical</span> <span class="nv">to</span> <span class="nv">horizontal</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))))</span>
</span><span class='line'>	  <span class="p">(</span><span class="nf">message</span> <span class="err">“</span><span class="nv">%s</span> <span class="nv">%s</span> <span class="nv">%s</span><span class="err">”</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;pre&gt;&lt;code&gt;</span>  <span class="p">(</span><span class="nf">delete-other-windows</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="p">(</span><span class="nf">next-window</span><span class="p">)</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class='line'>  <span class="p">))))</span>
</span><span class='line'><span class="nv">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;  +————+———–+                 +————+———–+</span>
</span><span class='line'><span class="c1">;  |            |           |            \    |            |           |</span>
</span><span class='line'><span class="c1">;  |            |           |    +——-+\   |            |           |</span>
</span><span class='line'><span class="c1">;  +————+———–+    +——-+/   +————+           |</span>
</span><span class='line'><span class="c1">;  |                        |            /    |            |           |</span>
</span><span class='line'><span class="c1">;  |                        |                 |            |           |</span>
</span><span class='line'><span class="c1">;  +————+———–+                 +————+———–+</span>
</span><span class='line'><span class="c1">;  +————+———–+                 +————+———–+</span>
</span><span class='line'><span class="c1">;  |            |           |            \    |            |           |</span>
</span><span class='line'><span class="c1">;  |            |           |    +——-+\   |            |           |</span>
</span><span class='line'><span class="c1">;  |            +———–+    +——-+/   +————+———–+</span>
</span><span class='line'><span class="c1">;  |            |           |            /    |                        |</span>
</span><span class='line'><span class="c1">;  |            |           |                 |                        |</span>
</span><span class='line'><span class="c1">;  +————+———–+                 +————+———–+&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">defun</span> <span class="nv">change-split-type-3</span> <span class="p">()</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Change</span> <span class="mi">3</span> <span class="nv">window</span> <span class="nv">style</span> <span class="nv">from</span> <span class="nv">horizontal</span> <span class="nv">to</span> <span class="nv">vertical</span> <span class="k">and </span><span class="nv">vice-versa</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">)))))</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;pre&gt;&lt;code&gt;</span>      <span class="p">(</span><span class="nf">split-3</span>
</span><span class='line'>       <span class="p">(</span><span class="nf">lambda</span><span class="p">(</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span> <span class="nv">split-1</span> <span class="nv">split-2</span><span class="p">)</span>
</span><span class='line'>	 <span class="s">&quot;change 3 window from horizontal to vertical and vice-versa&quot;</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;%s %s %s&quot;</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>	 <span class="p">(</span><span class="nf">delete-other-windows</span><span class="p">)</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">funcall</span> <span class="nv">split-1</span><span class="p">)</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">funcall</span> <span class="nv">split-2</span><span class="p">)</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="p">(</span><span class="nf">next-window</span><span class="p">)</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">other-window</span> <span class="mi">2</span><span class="p">)</span>
</span><span class='line'>	 <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'>      <span class="p">(</span><span class="nf">split-type-1</span> <span class="nv">nil</span><span class="p">)</span>
</span><span class='line'>      <span class="p">(</span><span class="nf">split-type-2</span> <span class="nv">nil</span><span class="p">)</span>
</span><span class='line'>      <span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">window-width</span><span class="p">)</span> <span class="p">(</span><span class="nf">frame-width</span><span class="p">))</span>
</span><span class='line'>      <span class="p">(</span><span class="nf">setq</span> <span class="nv">split-type-1</span> <span class="ss">&#39;split-window-horizontally</span>
</span><span class='line'>	    <span class="nv">split-type-2</span> <span class="ss">&#39;split-window-vertically</span><span class="p">)</span>
</span><span class='line'>    <span class="p">(</span><span class="nf">setq</span> <span class="nv">split-type-1</span> <span class="ss">&#39;split-window-vertically</span>
</span><span class='line'>	  <span class="nv">split-type-2</span> <span class="ss">&#39;split-window-horizontally</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">funcall</span> <span class="nv">split-3</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span> <span class="nv">split-type-1</span> <span class="nv">split-type-2</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="p">))))</span>
</span><span class='line'><span class="nv">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">C-x</span> <span class="mi">4</span> <span class="nv">c</span><span class="err">”</span><span class="p">)</span> <span class="p">(</span><span class="k">quote </span><span class="nv">change-split-type-3</span><span class="p">))</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;;==================== buffer =====================&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="c1">;  +————+———–+                   +————+———–+</span>
</span><span class='line'><span class="c1">;  |            |     C     |            \      |            |     A     |</span>
</span><span class='line'><span class="c1">;  |            |           |    +——-+\     |            |           |</span>
</span><span class='line'><span class="c1">;  |     A      |———–|    +——-+/     |     B      |———–|</span>
</span><span class='line'><span class="c1">;  |            |     B     |            /      |            |     C     |</span>
</span><span class='line'><span class="c1">;  |            |           |                   |            |           |</span>
</span><span class='line'><span class="c1">;  +————+———–+                   +————+———–+</span>
</span><span class='line'><span class="c1">;</span>
</span><span class='line'><span class="c1">;  +————————+                   +————————+</span>
</span><span class='line'><span class="c1">;  |           A            |           \       |           B            |</span>
</span><span class='line'><span class="c1">;  |                        |   +——-+\      |                        |</span>
</span><span class='line'><span class="c1">;  +————+———–+   +——-+/      +————+———–+</span>
</span><span class='line'><span class="c1">;  |     B      |     C     |           /       |     C      |     A     |</span>
</span><span class='line'><span class="c1">;  |            |           |                   |            |           |</span>
</span><span class='line'><span class="c1">;  +————+———–+                   +————+———–+&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">defun</span> <span class="nv">roll-v-3</span> <span class="p">(</span><span class="nf">&amp;amp</span><span class="c1">;optional; arg)</span>
</span><span class='line'>  <span class="err">“</span><span class="nv">Rolling</span> <span class="mi">3</span> <span class="nv">window</span> <span class="nv">buffers</span> <span class="p">(</span><span class="nf">anti-</span><span class="p">)</span><span class="nv">clockwise</span><span class="err">”</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">interactive</span> <span class="err">“</span><span class="nv">P</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class='line'>	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stWin</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndWin</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class='line'>	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdWin</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nf">last</span> <span class="nv">winList</span><span class="p">))))</span>
</span><span class='line'>	  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="mi">1</span><span class="nv">stWin</span><span class="p">))</span>
</span><span class='line'>		<span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="mi">2</span><span class="nv">ndWin</span><span class="p">))</span>
</span><span class='line'>		<span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="mi">3</span><span class="nv">rdWin</span><span class="p">)))</span>
</span><span class='line'>	    <span class="p">(</span><span class="k">if </span><span class="nv">arg</span> <span class="p">(</span><span class="nf">progn</span>
</span><span class='line'>					<span class="c1">; anti-clockwise</span>
</span><span class='line'>		      <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">1</span><span class="nv">stWin</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>		      <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">2</span><span class="nv">ndWin</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)</span>
</span><span class='line'>		      <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">3</span><span class="nv">rdWin</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">))</span>
</span><span class='line'>	      <span class="p">(</span><span class="nf">progn</span>                                      <span class="c1">; clockwise</span>
</span><span class='line'>		<span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">1</span><span class="nv">stWin</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class='line'>		<span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">2</span><span class="nv">ndWin</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class='line'>		<span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">3</span><span class="nv">rdWin</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">))</span>
</span><span class='line'>	      <span class="p">))))))</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="err">“</span><span class="nv">C-x</span> <span class="mi">4</span> <span class="nv">r</span><span class="err">”</span><span class="p">)</span>  <span class="p">(</span><span class="k">quote </span><span class="nv">roll-v-3</span><span class="p">))</span>
</span><span class='line'><span class="c1">;;——————– window ——————-&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span><span class="p">(</span><span class="nf">provide</span> <span class="err">‘</span><span class="nv">window-setting</span><span class="p">)</span><span class="nv">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

]]></content>
  </entry>
  
</feed>
