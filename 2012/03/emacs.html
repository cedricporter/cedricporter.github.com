
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>我的Emacs配置 - EverET.org</title>
  <meta name="author" content="Stupid ET">

  
  <meta name="description" content="原来一直想用Vim来写东西，不过Vim的出生就被定义为做一个编辑器。他的职责就是做好一个编辑器，Vim也不愧为编辑器之神，他确实是非常棒的编辑器。在Unix中，几乎每个工具都是设计为只做一件事，所以我也不想勉为其难将Vim变成一个好用的IDE。 俺曾经尝试使用vim-gdb把gdb嵌入vim， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://everet.org/2012/03/emacs.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="EverET.org" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-28529727-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">EverET.org</a></h1>
  
    <h2>Yesterday is a history. Tomorrow is a mystery. Only Today is a gift.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:everet.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/my-works">Works</a></li>
  <li><a href="http://414112390.qzone.qq.com/#!app=4" target="_blank">Albums</a></li>
  <li><a href="/liuyana">Msg Board</a></li>
  <li><a href="/about-me">About Me</a></li>
  <li><a href="http://github.com/cedricporter">et@github</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">我的Emacs配置</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-26T03:29:23+08:00" pubdate data-updated="true">2012-03-26</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content">
  <p>原来一直想用Vim来写东西，不过Vim的出生就被定义为做一个编辑器。他的职责就是做好一个编辑器，Vim也不愧为编辑器之神，他确实是非常棒的编辑器。在Unix中，几乎每个工具都是设计为只做一件事，所以我也不想勉为其难将Vim变成一个好用的IDE。</p>

<p>俺曾经尝试使用vim-gdb把gdb嵌入vim，不过用户体验是在让人无法接受，于是就放弃了。</p>

<p>于是只能投身神的编辑器、伪装成编辑器的操作系统——Emacs。</p>

<p>不过俺还是喜欢vim的按键风格，所以俺装了evil，把Emacs变成了超强版的Vim。</p>

<p>代码提示就不说了，Emacs下很轻易就可以做到转到定义处，重构等等。</p>

<p>好的工具是敏捷开发的必要前提啊~又想起了一句古诗：君子性非异也，善假于物也。</p>

<p>俺的Emacs配置请见：<a href="https://github.com/cedricporter/vim-emacs-setting">https://github.com/cedricporter/vim-emacs-setting</a></p>

<p>配置效果如下：<!-- more --></p>

<h3 id="python">写Python</h3>

<p><a href="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190039.png"><img src="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190039.png" alt="" /></a></p>

<h3 id="c">写C</h3>

<p><a href="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190144.png"><img src="http://everet.org/wp-content/uploads/2012/03/QQ截图20120325190144.png" alt="" /></a></p>

<h2 id="section">主配置文件</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>lisp  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
<span class="line-number">211</span>
<span class="line-number">212</span>
<span class="line-number">213</span>
<span class="line-number">214</span>
<span class="line-number">215</span>
<span class="line-number">216</span>
<span class="line-number">217</span>
<span class="line-number">218</span>
<span class="line-number">219</span>
<span class="line-number">220</span>
<span class="line-number">221</span>
<span class="line-number">222</span>
<span class="line-number">223</span>
<span class="line-number">224</span>
<span class="line-number">225</span>
<span class="line-number">226</span>
<span class="line-number">227</span>
<span class="line-number">228</span>
<span class="line-number">229</span>
<span class="line-number">230</span>
<span class="line-number">231</span>
<span class="line-number">232</span>
<span class="line-number">233</span>
<span class="line-number">234</span>
<span class="line-number">235</span>
<span class="line-number">236</span>
<span class="line-number">237</span>
<span class="line-number">238</span>
<span class="line-number">239</span>
<span class="line-number">240</span>
<span class="line-number">241</span>
<span class="line-number">242</span>
<span class="line-number">243</span>
<span class="line-number">244</span>
<span class="line-number">245</span>
<span class="line-number">246</span>
<span class="line-number">247</span>
<span class="line-number">248</span>
<span class="line-number">249</span>
<span class="line-number">250</span>
<span class="line-number">251</span>
<span class="line-number">252</span>
<span class="line-number">253</span>
<span class="line-number">254</span>
<span class="line-number">255</span>
<span class="line-number">256</span>
<span class="line-number">257</span>
<span class="line-number">258</span>
<span class="line-number">259</span>
<span class="line-number">260</span>
<span class="line-number">261</span>
<span class="line-number">262</span>
<span class="line-number">263</span>
<span class="line-number">264</span>
<span class="line-number">265</span>
<span class="line-number">266</span>
<span class="line-number">267</span>
<span class="line-number">268</span>
<span class="line-number">269</span>
<span class="line-number">270</span>
<span class="line-number">271</span>
<span class="line-number">272</span>
<span class="line-number">273</span>
<span class="line-number">274</span>
<span class="line-number">275</span>
<span class="line-number">276</span>
<span class="line-number">277</span>
<span class="line-number">278</span>
<span class="line-number">279</span>
<span class="line-number">280</span>
<span class="line-number">281</span>
<span class="line-number">282</span>
<span class="line-number">283</span>
<span class="line-number">284</span>
<span class="line-number">285</span>
<span class="line-number">286</span>
<span class="line-number">287</span>
<span class="line-number">288</span>
<span class="line-number">289</span>
<span class="line-number">290</span>
<span class="line-number">291</span>
<span class="line-number">292</span>
<span class="line-number">293</span>
<span class="line-number">294</span>
<span class="line-number">295</span>
<span class="line-number">296</span>
<span class="line-number">297</span>
<span class="line-number">298</span>
<span class="line-number">299</span>
<span class="line-number">300</span>
<span class="line-number">301</span>
<span class="line-number">302</span>
<span class="line-number">303</span>
<span class="line-number">304</span>
<span class="line-number">305</span>
<span class="line-number">306</span>
<span class="line-number">307</span>
<span class="line-number">308</span>
<span class="line-number">309</span>
<span class="line-number">310</span>
<span class="line-number">311</span>
<span class="line-number">312</span>
<span class="line-number">313</span>
<span class="line-number">314</span>
<span class="line-number">315</span>
<span class="line-number">316</span>
<span class="line-number">317</span>
<span class="line-number">318</span>
<span class="line-number">319</span>
<span class="line-number">320</span>
<span class="line-number">321</span>
<span class="line-number">322</span>
<span class="line-number">323</span>
<span class="line-number">324</span>
<span class="line-number">325</span>
<span class="line-number">326</span>
<span class="line-number">327</span>
<span class="line-number">328</span>
<span class="line-number">329</span>
<span class="line-number">330</span>
<span class="line-number">331</span>
<span class="line-number">332</span>
<span class="line-number">333</span>
<span class="line-number">334</span>
<span class="line-number">335</span>
<span class="line-number">336</span>
<span class="line-number">337</span>
<span class="line-number">338</span>
<span class="line-number">339</span>
<span class="line-number">340</span>
<span class="line-number">341</span>
<span class="line-number">342</span>
<span class="line-number">343</span>
<span class="line-number">344</span>
<span class="line-number">345</span>
<span class="line-number">346</span>
<span class="line-number">347</span>
<span class="line-number">348</span>
<span class="line-number">349</span>
<span class="line-number">350</span>
<span class="line-number">351</span>
<span class="line-number">352</span>
<span class="line-number">353</span>
<span class="line-number">354</span>
<span class="line-number">355</span>
<span class="line-number">356</span>
<span class="line-number">357</span>
<span class="line-number">358</span>
<span class="line-number">359</span>
<span class="line-number">360</span>
<span class="line-number">361</span>
<span class="line-number">362</span>
<span class="line-number">363</span>
<span class="line-number">364</span>
<span class="line-number">365</span>
<span class="line-number">366</span>
<span class="line-number">367</span>
<span class="line-number">368</span>
<span class="line-number">369</span>
<span class="line-number">370</span>
<span class="line-number">371</span>
<span class="line-number">372</span>
<span class="line-number">373</span>
<span class="line-number">374</span>
<span class="line-number">375</span>
<span class="line-number">376</span>
<span class="line-number">377</span>
<span class="line-number">378</span>
<span class="line-number">379</span>
<span class="line-number">380</span>
<span class="line-number">381</span>
<span class="line-number">382</span>
<span class="line-number">383</span>
<span class="line-number">384</span>
<span class="line-number">385</span>
<span class="line-number">386</span>
<span class="line-number">387</span>
<span class="line-number">388</span>
<span class="line-number">389</span>
<span class="line-number">390</span>
<span class="line-number">391</span>
<span class="line-number">392</span>
<span class="line-number">393</span>
<span class="line-number">394</span>
<span class="line-number">395</span>
<span class="line-number">396</span>
<span class="line-number">397</span>
<span class="line-number">398</span>
<span class="line-number">399</span>
<span class="line-number">400</span>
<span class="line-number">401</span>
<span class="line-number">402</span>
<span class="line-number">403</span>
<span class="line-number">404</span>
<span class="line-number">405</span>
<span class="line-number">406</span>
<span class="line-number">407</span>
<span class="line-number">408</span>
<span class="line-number">409</span>
<span class="line-number">410</span>
<span class="line-number">411</span>
<span class="line-number">412</span>
<span class="line-number">413</span>
<span class="line-number">414</span>
<span class="line-number">415</span>
<span class="line-number">416</span>
<span class="line-number">417</span>
<span class="line-number">418</span>
<span class="line-number">419</span>
<span class="line-number">420</span>
<span class="line-number">421</span>
<span class="line-number">422</span>
<span class="line-number">423</span>
<span class="line-number">424</span>
<span class="line-number">425</span>
<span class="line-number">426</span>
<span class="line-number">427</span>
<span class="line-number">428</span>
<span class="line-number">429</span>
<span class="line-number">430</span>
<span class="line-number">431</span>
<span class="line-number">432</span>
<span class="line-number">433</span>
<span class="line-number">434</span>
<span class="line-number">435</span>
<span class="line-number">436</span>
<span class="line-number">437</span>
<span class="line-number">438</span>
<span class="line-number">439</span>
<span class="line-number">440</span>
<span class="line-number">441</span>
<span class="line-number">442</span>
<span class="line-number">443</span>
<span class="line-number">444</span>
<span class="line-number">445</span>
<span class="line-number">446</span>
<span class="line-number">447</span>
<span class="line-number">448</span>
<span class="line-number">449</span>
<span class="line-number">450</span>
<span class="line-number">451</span>
<span class="line-number">452</span>
<span class="line-number">453</span>
<span class="line-number">454</span>
<span class="line-number">455</span>
<span class="line-number">456</span>
<span class="line-number">457</span>
<span class="line-number">458</span>
<span class="line-number">459</span>
<span class="line-number">460</span>
<span class="line-number">461</span>
<span class="line-number">462</span>
<span class="line-number">463</span>
<span class="line-number">464</span>
<span class="line-number">465</span>
<span class="line-number">466</span>
<span class="line-number">467</span>
<span class="line-number">468</span>
<span class="line-number">469</span>
<span class="line-number">470</span>
<span class="line-number">471</span>
<span class="line-number">472</span>
<span class="line-number">473</span>
<span class="line-number">474</span>
<span class="line-number">475</span>
<span class="line-number">476</span>
<span class="line-number">477</span>
<span class="line-number">478</span>
<span class="line-number">479</span>
<span class="line-number">480</span>
<span class="line-number">481</span>
<span class="line-number">482</span>
<span class="line-number">483</span>
<span class="line-number">484</span>
<span class="line-number">485</span>
<span class="line-number">486</span>
<span class="line-number">487</span>
<span class="line-number">488</span>
<span class="line-number">489</span>
<span class="line-number">490</span>
<span class="line-number">491</span>
<span class="line-number">492</span>
<span class="line-number">493</span>
<span class="line-number">494</span>
<span class="line-number">495</span>
<span class="line-number">496</span>
<span class="line-number">497</span>
<span class="line-number">498</span>
<span class="line-number">499</span>
<span class="line-number">500</span>
<span class="line-number">501</span>
<span class="line-number">502</span>
<span class="line-number">503</span>
<span class="line-number">504</span>
<span class="line-number">505</span>
<span class="line-number">506</span>
<span class="line-number">507</span>
<span class="line-number">508</span>
<span class="line-number">509</span>
<span class="line-number">510</span>
<span class="line-number">511</span>
<span class="line-number">512</span>
<span class="line-number">513</span>
<span class="line-number">514</span>
<span class="line-number">515</span>
<span class="line-number">516</span>
<span class="line-number">517</span>
<span class="line-number">518</span>
<span class="line-number">519</span>
<span class="line-number">520</span>
<span class="line-number">521</span>
<span class="line-number">522</span>
<span class="line-number">523</span>
<span class="line-number">524</span>
<span class="line-number">525</span>
<span class="line-number">526</span>
<span class="line-number">527</span>
<span class="line-number">528</span>
<span class="line-number">529</span>
<span class="line-number">530</span>
<span class="line-number">531</span>
<span class="line-number">532</span>
<span class="line-number">533</span>
<span class="line-number">534</span>
<span class="line-number">535</span>
<span class="line-number">536</span>
<span class="line-number">537</span>
<span class="line-number">538</span>
<span class="line-number">539</span>
<span class="line-number">540</span>
<span class="line-number">541</span>
<span class="line-number">542</span>
<span class="line-number">543</span>
<span class="line-number">544</span>
<span class="line-number">545</span>
<span class="line-number">546</span>
<span class="line-number">547</span>
<span class="line-number">548</span>
<span class="line-number">549</span>
<span class="line-number">550</span>
<span class="line-number">551</span>
<span class="line-number">552</span>
<span class="line-number">553</span>
<span class="line-number">554</span>
<span class="line-number">555</span>
<span class="line-number">556</span>
<span class="line-number">557</span>
<span class="line-number">558</span>
<span class="line-number">559</span>
<span class="line-number">560</span>
<span class="line-number">561</span>
<span class="line-number">562</span>
<span class="line-number">563</span>
<span class="line-number">564</span>
<span class="line-number">565</span>
<span class="line-number">566</span>
<span class="line-number">567</span>
<span class="line-number">568</span>
<span class="line-number">569</span>
<span class="line-number">570</span>
<span class="line-number">571</span>
<span class="line-number">572</span>
<span class="line-number">573</span>
<span class="line-number">574</span>
<span class="line-number">575</span>
<span class="line-number">576</span>
<span class="line-number">577</span>
<span class="line-number">578</span>
<span class="line-number">579</span>
<span class="line-number">580</span>
<span class="line-number">581</span>
<span class="line-number">582</span>
<span class="line-number">583</span>
<span class="line-number">584</span>
<span class="line-number">585</span>
<span class="line-number">586</span>
<span class="line-number">587</span>
<span class="line-number">588</span>
<span class="line-number">589</span>
<span class="line-number">590</span>
<span class="line-number">591</span>
<span class="line-number">592</span>
<span class="line-number">593</span>
<span class="line-number">594</span>
<span class="line-number">595</span>
<span class="line-number">596</span>
<span class="line-number">597</span>
<span class="line-number">598</span>
<span class="line-number">599</span>
<span class="line-number">600</span>
<span class="line-number">601</span>
<span class="line-number">602</span>
<span class="line-number">603</span>
<span class="line-number">604</span>
<span class="line-number">605</span>
<span class="line-number">606</span>
<span class="line-number">607</span>
<span class="line-number">608</span>
<span class="line-number">609</span>
<span class="line-number">610</span>
<span class="line-number">611</span>
</pre></td><td class="code"><pre><code class="scm"><span class="line"><span class="c1">;; Setting By Hua Liang [ [ Stupid ET ] Cedric Porter ]</span>
</span><span class="line"><span class="c1">;; Mail:    et@everet.org</span>
</span><span class="line"><span class="c1">;; website: http://EverET.org</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;Personal information</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">user-full-name</span> <span class="s">&quot;Cedric Porter&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">user-mail-address</span> <span class="s">&quot;cedricporter@gmail.com&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">set-default-font</span> <span class="s">&quot;Ubuntu Mono-12&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; Add plugins to load-path.</span>
</span><span class="line"><span class="c1">;; We will put some tiny plugins in it</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/configs&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ====================      line number      ====================</span>
</span><span class="line"><span class="c1">;; 调用linum.el(line number)来显示行号：</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;linum</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-linum-mode</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; --------------------      End         --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;======================    time setting        =====================</span>
</span><span class="line"><span class="c1">;;启用时间显示设置，在minibuffer上面的那个杠上（忘了叫什么来着）</span>
</span><span class="line"><span class="p">(</span><span class="nf">display-time-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;时间使用24小时制</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-24hr-format</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;时间显示包括日期和具体时间</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-day-and-date</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;时间栏旁边启用邮件设置</span>
</span><span class="line"><span class="c1">;(setq display-time-use-mail-icon t)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;时间的变化频率</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-interval</span> <span class="mi">10</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;显示时间，格式如下</span>
</span><span class="line"><span class="p">(</span><span class="nf">display-time-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-24hr-format</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-day-and-date</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;----------------------    END    time setting    ---------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ==================== recent-jump ====================</span>
</span><span class="line"><span class="c1">;; set recent-jump</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">recent-jump-threshold</span> <span class="mi">4</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">recent-jump-ring-length</span> <span class="mi">10</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-o&quot;</span><span class="p">)</span> <span class="ss">&#39;recent-jump-jump-backward</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;M-o&quot;</span><span class="p">)</span> <span class="ss">&#39;recent-jump-jump-forward</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;recent-jump</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; -------------------- end of recent-jump --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ==================== UI setting ====================</span>
</span><span class="line"><span class="c1">;; 实现全屏效果，快捷键为f11</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="nv">f11</span><span class="err">]</span> <span class="ss">&#39;my-fullscreen</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-fullscreen</span> <span class="p">()</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">x-send-client-message</span>
</span><span class="line">   <span class="nv">nil</span> <span class="mi">0</span> <span class="nv">nil</span> <span class="s">&quot;_NET_WM_STATE&quot;</span> <span class="mi">32</span>
</span><span class="line">   <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="s">&quot;_NET_WM_STATE_FULLSCREEN&quot;</span> <span class="mi">0</span><span class="p">))</span>
</span><span class="line">  <span class="p">)</span>
</span><span class="line"><span class="c1">;; 最大化</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-maximized</span> <span class="p">()</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">x-send-client-message</span>
</span><span class="line">   <span class="nv">nil</span> <span class="mi">0</span> <span class="nv">nil</span> <span class="s">&quot;_NET_WM_STATE&quot;</span> <span class="mi">32</span>
</span><span class="line">   <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="s">&quot;_NET_WM_STATE_MAXIMIZED_HORZ&quot;</span> <span class="mi">0</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="nf">x-send-client-message</span>
</span><span class="line">   <span class="nv">nil</span> <span class="mi">0</span> <span class="nv">nil</span> <span class="s">&quot;_NET_WM_STATE&quot;</span> <span class="mi">32</span>
</span><span class="line">   <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="s">&quot;_NET_WM_STATE_MAXIMIZED_VERT&quot;</span> <span class="mi">0</span><span class="p">))</span>
</span><span class="line">  <span class="p">)</span>
</span><span class="line"><span class="c1">;; 启动emacs时窗口最大化</span>
</span><span class="line"><span class="p">(</span><span class="nf">my-maximized</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 启动窗口大小</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">default-frame-alist</span>
</span><span class="line">      <span class="o">&#39;</span><span class="p">((</span><span class="nf">height</span> <span class="o">.</span> <span class="mi">35</span><span class="p">)</span> <span class="p">(</span><span class="nf">width</span> <span class="o">.</span> <span class="mi">125</span><span class="p">)</span> <span class="p">(</span><span class="nf">menu-bar-lines</span> <span class="o">.</span> <span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="nf">tool-bar-lines</span> <span class="o">.</span> <span class="mi">0</span><span class="p">)))</span>
</span><span class="line"><span class="c1">;; -------------------- UI setting --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 在Emacs23里，可以用命令M-x quick-calc或快捷键C-x * q来启动Quick Calculator模式。</span>
</span><span class="line"><span class="c1">;; 这是一个非常小巧的工具，启动后会在minibuffer里提示输入数学计算式，回车就显示结果。</span>
</span><span class="line"><span class="c1">;; 这个模式能非常方便地用来做一些基本的数学运算，比用系统自带的计算器来得方便、快捷一些。</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ==================== Common Setting ====================</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;去掉菜单栏，将F10绑定为显示菜单栏，需要菜单栏了可以摁F10调出，再摁F10就去掉菜单</span>
</span><span class="line"><span class="c1">;; 如果总是不显示工具栏，将下面代码加到.emacs中</span>
</span><span class="line"><span class="c1">;; 参考： http://www.emacswiki.org/emacs/ToolBar</span>
</span><span class="line"><span class="c1">;; 注意：在menu-bar不显示的情况下，按ctrl+鼠标右键还是能调出菜单选项的</span>
</span><span class="line"><span class="p">(</span><span class="nf">tool-bar-mode</span> <span class="mi">-1</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; 如果总是不显示菜单，将下面代码加到.emacs中</span>
</span><span class="line"><span class="c1">;;参考： http://www.emacswiki.org/emacs/MenuBar</span>
</span><span class="line"><span class="p">(</span><span class="nf">menu-bar-mode</span> <span class="mi">-1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; eliminate long &quot;yes&quot; or &quot;no&quot; prompts</span>
</span><span class="line"><span class="p">(</span><span class="nf">fset</span> <span class="ss">&#39;yes-or-no-p</span> <span class="ss">&#39;y-or-n-p</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 方便的在 kill-ring 里寻找需要的东西。</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;browse-kill-ring</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">browse-kill-ring-default-keybindings</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="s">&quot;\C-c\C-k&quot;</span> <span class="ss">&#39;browse-kill-ring</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 4.1 在单元格之间移动</span>
</span><span class="line"><span class="c1">;; table-forward-celltab</span>
</span><span class="line"><span class="c1">;; table-backward-cellshift+tab</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; 4.2 合并单元格</span>
</span><span class="line"><span class="c1">;; table-span-cell</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; 4.3 拆分单元格</span>
</span><span class="line"><span class="c1">;; +---------------------------------------+---------------+</span>
</span><span class="line"><span class="c1">;; |table-split-cell-horizontally          |C-c C-c -      |</span>
</span><span class="line"><span class="c1">;; +---------------------------------------+---------------+</span>
</span><span class="line"><span class="c1">;; |table-split-cell-vertically            |C-c C-c |      |</span>
</span><span class="line"><span class="c1">;; +---------------------------------------+---------------+</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; 4.4 扩大或缩小单元格的宽度、高度</span>
</span><span class="line"><span class="c1">;; +--------------------------------------+----------+</span>
</span><span class="line"><span class="c1">;; |垂直扩大：table-highten-cell          |C-c C-c } |</span>
</span><span class="line"><span class="c1">;; |                                      |          |</span>
</span><span class="line"><span class="c1">;; +--------------------------------------+----------+</span>
</span><span class="line"><span class="c1">;; |垂直缩小：table-shorten-cell          |C-c C-c { |</span>
</span><span class="line"><span class="c1">;; |                                      |          |</span>
</span><span class="line"><span class="c1">;; +--------------------------------------+----------+</span>
</span><span class="line"><span class="c1">;; |水平扩大: table-widen-cell            |C-c C-c &gt; |</span>
</span><span class="line"><span class="c1">;; |                                      |          |</span>
</span><span class="line"><span class="c1">;; +--------------------------------------+----------+</span>
</span><span class="line"><span class="c1">;; |水平缩小：table-narrow-cell           |C-c C-c &lt; |</span>
</span><span class="line"><span class="c1">;; |                                      |          |</span>
</span><span class="line"><span class="c1">;; +--------------------------------------+----------+</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; 5、单元格对齐方式</span>
</span><span class="line"><span class="c1">;; +---------------------------------------+-----------+</span>
</span><span class="line"><span class="c1">;; |命令：table-justify                    |C-c C-c :  |</span>
</span><span class="line"><span class="c1">;; +---------------------------------------+-----------+</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 可以“所见即所得”的编辑一个文本模式的 表格。</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;table-insert</span> <span class="s">&quot;table&quot;</span> <span class="s">&quot;WYGIWYS table editor&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 解决汉字表格对齐问题，也就是设置等宽汉字</span>
</span><span class="line"><span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nf">fboundp</span> <span class="ss">&#39;daemonp</span><span class="p">)</span> <span class="p">(</span><span class="nf">daemonp</span><span class="p">))</span>
</span><span class="line">    <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;after-make-frame-functions</span>
</span><span class="line">              <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">frame</span><span class="p">)</span>
</span><span class="line">                <span class="p">(</span><span class="nf">with-selected-frame</span> <span class="nv">frame</span>
</span><span class="line">                  <span class="p">(</span><span class="nf">set-fontset-font</span> <span class="s">&quot;fontset-default&quot;</span>
</span><span class="line">                                    <span class="ss">&#39;chinese-gbk</span> <span class="s">&quot;WenQuanYi Micro Hei Mono 12&quot;</span><span class="p">))))</span>
</span><span class="line">  <span class="p">(</span><span class="nf">set-fontset-font</span> <span class="s">&quot;fontset-default&quot;</span> <span class="ss">&#39;chinese-gbk</span> <span class="s">&quot;WenQuanYi Micro Hei Mono 12&quot;</span><span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;设置句尾</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">sentence-end</span> <span class="s">&quot;\\([。！？]\\|……\\|[.?!][]\&quot;&#39;)}]*\\($\\|[ \t]\\)\\)[ \t\n]*&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;直接打开图片</span>
</span><span class="line"><span class="p">(</span><span class="nf">auto-image-file-mode</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; take the place of C-x C-f</span>
</span><span class="line"><span class="c1">;; 当你输入了一些字符后，系统会自动帮你补全；</span>
</span><span class="line"><span class="c1">;; C-s(next)或是C-r(previous)用来在列表中循环；</span>
</span><span class="line"><span class="c1">;; 按[Tab]键会自动列出可能的补全方法；</span>
</span><span class="line"><span class="c1">;; 用C-x C-d直接打开当前目录的Dired浏览模式；</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;ido</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">ido-mode</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 去掉滚动栏</span>
</span><span class="line"><span class="p">(</span><span class="nf">scroll-bar-mode</span> <span class="nv">nil</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 一打开就起用 text 模式。</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">default-major-mode</span> <span class="ss">&#39;text-mode</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 语法高亮</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-font-lock-mode</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;use meta and direction key to go to the window</span>
</span><span class="line"><span class="p">(</span><span class="nf">windmove-default-keybindings</span> <span class="ss">&#39;meta</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; session</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;session</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;after-init-hook</span> <span class="ss">&#39;session-initialize</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nb">load </span><span class="s">&quot;desktop&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">desktop-save-mode</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; back to last position when we close the file</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;saveplace</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq-default</span> <span class="nv">save-place</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;tabbar</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;tabbar</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">tabbar-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">meta</span> <span class="nv">j</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;tabbar-backward</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">meta</span> <span class="nv">k</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;tabbar-forward</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">control</span> <span class="nv">meta</span> <span class="nv">j</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;tabbar-backward-group</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">control</span> <span class="nv">meta</span> <span class="nv">k</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;tabbar-forward-group</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;set group strategy</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">tabbar-buffer-groups</span> <span class="p">()</span>
</span><span class="line">  <span class="s">&quot;tabbar group&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">list</span>
</span><span class="line">   <span class="p">(</span><span class="nf">cond</span>
</span><span class="line">    <span class="p">((</span><span class="nb">memq </span><span class="nv">major-mode</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">shell-mode</span> <span class="nv">dired-mode</span><span class="p">))</span>
</span><span class="line">     <span class="s">&quot;shell&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">((</span><span class="nb">memq </span><span class="nv">major-mode</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">c-mode</span> <span class="nv">c++-mode</span><span class="p">))</span>
</span><span class="line">     <span class="s">&quot;cc&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">((</span><span class="nf">eq</span> <span class="nv">major-mode</span> <span class="ss">&#39;python-mode</span><span class="p">)</span>
</span><span class="line">     <span class="s">&quot;python&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">((</span><span class="nb">memq </span><span class="nv">major-mode</span>
</span><span class="line">	   <span class="o">&#39;</span><span class="p">(</span><span class="nv">php-mode</span> <span class="nv">nxml-mode</span> <span class="nv">nxhtml-mode</span><span class="p">))</span>
</span><span class="line">     <span class="s">&quot;WebDev&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">((</span><span class="nf">eq</span> <span class="nv">major-mode</span> <span class="ss">&#39;emacs-lisp-mode</span><span class="p">)</span>
</span><span class="line">      <span class="s">&quot;Emacs-lisp&quot;</span>
</span><span class="line">      <span class="p">)</span>
</span><span class="line">    <span class="p">((</span><span class="nb">memq </span><span class="nv">major-mode</span>
</span><span class="line">	   <span class="o">&#39;</span><span class="p">(</span><span class="nv">tex-mode</span> <span class="nv">latex-mode</span> <span class="nv">text-mode</span> <span class="nv">snippet-mode</span><span class="p">))</span>
</span><span class="line">     <span class="s">&quot;Text&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">((</span><span class="nf">string-equal</span> <span class="s">&quot;*&quot;</span> <span class="p">(</span><span class="nb">substring </span><span class="p">(</span><span class="nf">buffer-name</span><span class="p">)</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">))</span>
</span><span class="line">     <span class="s">&quot;emacs&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">(</span><span class="nf">t</span>
</span><span class="line">     <span class="s">&quot;other&quot;</span>
</span><span class="line">     <span class="p">)</span>
</span><span class="line">    <span class="p">)))</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">tabbar-buffer-groups-function</span> <span class="ss">&#39;tabbar-buffer-groups</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;;; 设置tabbar外观</span>
</span><span class="line"><span class="c1">;; 设置默认主题: 字体, 背景和前景颜色，大小</span>
</span><span class="line"><span class="p">(</span><span class="nf">set-face-attribute</span> <span class="ss">&#39;tabbar-default</span> <span class="nv">nil</span>
</span><span class="line">                    <span class="nv">:family</span> <span class="s">&quot;Vera Sans YuanTi Mono&quot;</span>
</span><span class="line">                    <span class="nv">:background</span> <span class="s">&quot;gray80&quot;</span>
</span><span class="line">                    <span class="nv">:foreground</span> <span class="s">&quot;gray10&quot;</span>
</span><span class="line">                    <span class="nv">:height</span> <span class="mf">1.0</span>
</span><span class="line">                    <span class="p">)</span>
</span><span class="line"><span class="c1">;; 设置左边按钮外观：外框框边大小和颜色</span>
</span><span class="line"><span class="p">(</span><span class="nf">set-face-attribute</span> <span class="ss">&#39;tabbar-button</span> <span class="nv">nil</span>
</span><span class="line">                    <span class="nv">:inherit</span> <span class="ss">&#39;tabbar-default</span>
</span><span class="line">                    <span class="nv">:box</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">:line-width</span> <span class="mi">1</span> <span class="nv">:color</span> <span class="s">&quot;gray30&quot;</span><span class="p">)</span>
</span><span class="line">                    <span class="p">)</span>
</span><span class="line"><span class="c1">;; 设置当前tab外观：颜色，字体，外框大小和颜色</span>
</span><span class="line"><span class="p">(</span><span class="nf">set-face-attribute</span> <span class="ss">&#39;tabbar-selected</span> <span class="nv">nil</span>
</span><span class="line">                    <span class="nv">:inherit</span> <span class="ss">&#39;tabbar-default</span>
</span><span class="line">                    <span class="nv">:foreground</span> <span class="s">&quot;DarkGreen&quot;</span>
</span><span class="line">                    <span class="nv">:background</span> <span class="s">&quot;LightGoldenrod&quot;</span>
</span><span class="line">                    <span class="nv">:box</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">:line-width</span> <span class="mi">2</span> <span class="nv">:color</span> <span class="s">&quot;DarkGoldenrod&quot;</span><span class="p">)</span>
</span><span class="line">                    <span class="c1">;; :overline &quot;black&quot;</span>
</span><span class="line">                    <span class="c1">;; :underline &quot;black&quot;</span>
</span><span class="line">                    <span class="nv">:weight</span> <span class="ss">&#39;bold</span>
</span><span class="line">                    <span class="p">)</span>
</span><span class="line"><span class="c1">;; 设置非当前tab外观：外框大小和颜色</span>
</span><span class="line"><span class="p">(</span><span class="nf">set-face-attribute</span> <span class="ss">&#39;tabbar-unselected</span> <span class="nv">nil</span>
</span><span class="line">                    <span class="nv">:inherit</span> <span class="ss">&#39;tabbar-default</span>
</span><span class="line">                    <span class="nv">:box</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">:line-width</span> <span class="mi">2</span> <span class="nv">:color</span> <span class="s">&quot;gray70&quot;</span><span class="p">)</span>
</span><span class="line">                    <span class="p">)</span>
</span><span class="line"><span class="c1">;; cancel grouping</span>
</span><span class="line"><span class="c1">;;(setq tabbar-buffer-groups-function</span>
</span><span class="line"><span class="c1">;;    (lambda (b) (list “All Buffers”)))</span>
</span><span class="line"><span class="c1">;;(setq tabbar-buffer-list-function</span>
</span><span class="line"><span class="c1">;;    (lambda ()</span>
</span><span class="line"><span class="c1">;;        (remove-if</span>
</span><span class="line"><span class="c1">;;          (lambda(buffer)</span>
</span><span class="line"><span class="c1">;;             (find (aref (buffer-name buffer) 0) ” *”))</span>
</span><span class="line"><span class="c1">;;          (buffer-list))))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;禁用启动信息</span>
</span><span class="line"><span class="c1">;(setq inhibit-startup-message t)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 回车缩进</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="s">&quot;\C-m&quot;</span> <span class="ss">&#39;newline-and-indent</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-&quot;</span><span class="p">)</span> <span class="ss">&#39;newline</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 显示括号匹配</span>
</span><span class="line"><span class="p">(</span><span class="nf">show-paren-mode</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">show-paren-style</span> <span class="ss">&#39;parentheses</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;highlight-parentheses</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">highlight-parentheses-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 显示ascii表</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;ascii</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;用一个很大的 kill ring. 这样防止我不小心删掉重要的东西。</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">kill-ring-max</span> <span class="mi">200</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;高亮显示选中的区域</span>
</span><span class="line"><span class="p">(</span><span class="nf">transient-mark-mode</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;支持emacs和外部程序的拷贝粘贴</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">x-select-enable-clipboard</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;在标题栏提示当前位置</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">frame-title-format</span> <span class="s">&quot;ET@%b&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;使用C-k删掉指针到改行末的所有东西</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq-default</span> <span class="nv">kill-whole-line</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== 注释 ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c c&quot;</span><span class="p">)</span> <span class="ss">&#39;comment-or-uncomment-region</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c b&quot;</span><span class="p">)</span> <span class="ss">&#39;comment-box</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c k&quot;</span><span class="p">)</span> <span class="ss">&#39;comment-kill</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;-------------------- end --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;(require &#39;doxygen-config.el)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== color theme ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/color-theme-6.6.0/&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;color-theme</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">load-file</span> <span class="s">&quot;~/.emacs.d/plugins/color-theme-6.6.0/themes/color-theme-library.el&quot;</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;(require &#39;color-theme-library)</span>
</span><span class="line"><span class="c1">;;(color-theme-charcoal-black)</span>
</span><span class="line"><span class="c1">;;(color-theme-taylor)</span>
</span><span class="line"><span class="p">(</span><span class="nf">color-theme-taylor-et</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;-------------------- color theme --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== evil ====================</span>
</span><span class="line"><span class="c1">;;vi emulator</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">evil-want-C-i-jump</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">evil-want-C-u-scroll</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/evil&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;evil</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">evil-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;surround</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-surround-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;(global-set-key [(kdb &quot;C-u&quot;)] &#39;evil-scroll-up)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,i&quot;</span> <span class="ss">&#39;ibuffer</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,bs&quot;</span> <span class="ss">&#39;ido-switch-buffer</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,bd&quot;</span> <span class="ss">&#39;kill-this-buffer</span><span class="p">)</span>
</span><span class="line"><span class="c1">;(define-key evil-normal-state-map &quot;,m&quot; &#39;magit-status)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,w&quot;</span> <span class="ss">&#39;save-buffer</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;ZZ&quot;</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c C-c&quot;</span><span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; org-mode relaterat</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,a&quot;</span> <span class="ss">&#39;org-agenda</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; lisp-relaterat som annars inte verkar fungera</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,hv&quot;</span> <span class="ss">&#39;describe-variable</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,hk&quot;</span> <span class="ss">&#39;describe-key</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,hf&quot;</span> <span class="ss">&#39;describe-function</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,hm&quot;</span> <span class="ss">&#39;describe-mode</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; window</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,0&quot;</span> <span class="ss">&#39;delete-window</span><span class="p">)</span>         <span class="c1">;delete this window, same as C-x 0</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,1&quot;</span> <span class="ss">&#39;delete-other-windows</span><span class="p">)</span>  <span class="c1">;delete other windows</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,2&quot;</span> <span class="ss">&#39;split-window-up-down</span><span class="p">)</span>  <span class="c1">;split the window to up and down windows, which the upper one is bigger</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,3&quot;</span> <span class="ss">&#39;split-window-3</span><span class="p">)</span>        <span class="c1">;split the window to 3 window, left big</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,4&quot;</span> <span class="ss">&#39;split-window-4</span><span class="p">)</span>        <span class="c1">;split the window into 4 equal size window</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,q&quot;</span> <span class="ss">&#39;winner-undo</span><span class="p">)</span>	       <span class="c1">;undo, in other word, restore to previous window style</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">evil-normal-state-map</span> <span class="s">&quot;,Q&quot;</span> <span class="ss">&#39;winner-redo</span><span class="p">)</span>	       <span class="c1">;redo window style change</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; End of evil config copied from monotux@reddit</span>
</span><span class="line"><span class="c1">;;-------------------- evil --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== undo tree ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;undo-tree</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;-------------------- undo tree --------------------</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;window-setting</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== yasnippt ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/yasnippet&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;yasnippet</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">yas/initialize</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">yas/load-directory</span> <span class="s">&quot;~/.emacs.d/plugins/yasnippet/snippets&quot;</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;-------------------- yasnippt --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== auto complete ====================</span>
</span><span class="line"><span class="c1">;; auto complete with clang</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/auto-complete&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;auto-complete-config</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;ac-dictionary-directories</span> <span class="s">&quot;~/.emacs.d/plugins/auto-complete/ac-dict/&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;auto-complete-clang</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">ac-auto-start</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">ac-quick-help-delay</span> <span class="mf">0.5</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; (ac-set-trigger-key &quot;TAB&quot;)</span>
</span><span class="line"><span class="p">(</span><span class="nf">define-key</span> <span class="nv">ac-mode-map</span> <span class="err">[</span><span class="p">(</span><span class="nf">control</span> <span class="nv">tab</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;auto-complete</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-ac-config</span> <span class="p">()</span>
</span><span class="line">  <span class="p">(</span><span class="nf">setq-default</span> <span class="nv">ac-sources</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">ac-source-abbrev</span> <span class="nv">ac-source-dictionary</span> <span class="nv">ac-source-words-in-same-mode-buffers</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;emacs-lisp-mode-hook</span> <span class="ss">&#39;ac-emacs-lisp-mode-setup</span><span class="p">)</span>
</span><span class="line">  <span class="c1">;; (add-hook &#39;c-mode-common-hook &#39;ac-cc-mode-setup)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;ruby-mode-hook</span> <span class="ss">&#39;ac-ruby-mode-setup</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;css-mode-hook</span> <span class="ss">&#39;ac-css-mode-setup</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;auto-complete-mode-hook</span> <span class="ss">&#39;ac-common-setup</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">global-auto-complete-mode</span> <span class="nv">t</span><span class="p">))</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-ac-cc-mode-setup</span> <span class="p">()</span>
</span><span class="line">  <span class="p">(</span><span class="nf">setq</span> <span class="nv">ac-sources</span> <span class="p">(</span><span class="nb">append </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">ac-source-clang</span> <span class="nv">ac-source-yasnippet</span><span class="p">)</span> <span class="nv">ac-sources</span><span class="p">)))</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;c-mode-common-hook</span> <span class="ss">&#39;my-ac-cc-mode-setup</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; ac-source-gtags</span>
</span><span class="line"><span class="p">(</span><span class="nf">my-ac-config</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; -------------------- end of auto complete --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== python ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;python</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;python-mode</span> <span class="s">&quot;python-mode&quot;</span> <span class="s">&quot;Python Mode.&quot;</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.py\\&#39;&quot;</span> <span class="o">.</span> <span class="nv">python-mode</span><span class="p">))</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;interpreter-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;python&quot;</span> <span class="o">.</span> <span class="nv">python-mode</span><span class="p">))</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/Pymacs&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;pymacs</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;pymacs-apply</span> <span class="s">&quot;pymacs&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;pymacs-call</span> <span class="s">&quot;pymacs&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;pymacs-eval</span> <span class="s">&quot;pymacs&quot;</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;pymacs-exec</span> <span class="s">&quot;pymacs&quot;</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;pymacs-load</span> <span class="s">&quot;pymacs&quot;</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;pymacs-autoload</span> <span class="s">&quot;pymacs&quot;</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;(eval-after-load &quot;pymacs&quot;</span>
</span><span class="line"><span class="c1">;;  &#39;(add-to-list &#39;pymacs-load-path YOUR-PYMACS-DIRECTORY&quot;))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;; Initialize Rope</span>
</span><span class="line"><span class="p">(</span><span class="nf">pymacs-load</span> <span class="s">&quot;ropemacs&quot;</span> <span class="s">&quot;rope-&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">ropemacs-enable-autoimport</span> <span class="nv">t</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">ac-ropemacs-initialize</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;python-mode-hook</span>
</span><span class="line">	  <span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
</span><span class="line">	    <span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;ac-sources</span> <span class="ss">&#39;ac-source-ropemacs</span><span class="p">)))</span>
</span><span class="line"><span class="c1">;;-------------------- python --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== cedet ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/cedet/common&quot;</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;(add-to-list &#39;load-path &quot;~/.emacs.d/plugins/cedet/semantic&quot;)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;cedet</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;semantic-ia</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-ede-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-srecode-minor-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="c1">;;-------------------- cedet --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; (setq semanticdb-project-roots (list (expand-file-name &quot;/&quot;)))</span>
</span><span class="line"><span class="p">(</span><span class="nf">defconst</span> <span class="nv">cedet-user-include-dirs</span>
</span><span class="line">  <span class="p">(</span><span class="nb">list </span><span class="s">&quot;..&quot;</span> <span class="s">&quot;../include&quot;</span> <span class="s">&quot;../inc&quot;</span> <span class="s">&quot;../common&quot;</span> <span class="s">&quot;../public&quot;</span> <span class="s">&quot;../lib&quot;</span>
</span><span class="line">        <span class="s">&quot;../..&quot;</span> <span class="s">&quot;../../include&quot;</span> <span class="s">&quot;../../inc&quot;</span> <span class="s">&quot;../../common&quot;</span> <span class="s">&quot;../../public&quot;</span><span class="p">))</span>
</span><span class="line"><span class="p">(</span><span class="nf">defconst</span> <span class="nv">cedet-win32-include-dirs</span>
</span><span class="line">  <span class="p">(</span><span class="nb">list </span><span class="s">&quot;C:/MinGW/include&quot;</span>
</span><span class="line">        <span class="s">&quot;C:/MinGW/include/c++/3.4.5&quot;</span>
</span><span class="line">        <span class="s">&quot;C:/MinGW/include/c++/3.4.5/mingw32&quot;</span>
</span><span class="line">        <span class="s">&quot;C:/MinGW/include/c++/3.4.5/backward&quot;</span>
</span><span class="line">        <span class="s">&quot;C:/MinGW/lib/gcc/mingw32/3.4.5/include&quot;</span>
</span><span class="line">        <span class="s">&quot;C:/Program Files/Microsoft Visual Studio/VC98/MFC/Include&quot;</span><span class="p">))</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;semantic-c</span> <span class="nv">nil</span> <span class="ss">&#39;noerror</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">include-dirs</span> <span class="nv">cedet-user-include-dirs</span><span class="p">))</span>
</span><span class="line">  <span class="c1">;(when (eq system-type &#39;windows-nt)</span>
</span><span class="line">  <span class="c1">;  (setq include-dirs (append include-dirs cedet-win32-include-dirs)))</span>
</span><span class="line">  <span class="p">(</span><span class="nf">mapc</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">dir</span><span class="p">)</span>
</span><span class="line">          <span class="p">(</span><span class="nf">semantic-add-system-include</span> <span class="nv">dir</span> <span class="ss">&#39;c++-mode</span><span class="p">)</span>
</span><span class="line">          <span class="p">(</span><span class="nf">semantic-add-system-include</span> <span class="nv">dir</span> <span class="ss">&#39;c-mode</span><span class="p">))</span>
</span><span class="line">        <span class="nv">include-dirs</span><span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; code folding</span>
</span><span class="line"><span class="p">(</span><span class="nf">when</span> <span class="p">(</span><span class="k">and </span><span class="nv">window-system</span> <span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;semantic-tag-folding</span> <span class="nv">nil</span> <span class="ss">&#39;noerror</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="nf">global-semantic-tag-folding-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-?&quot;</span><span class="p">)</span> <span class="ss">&#39;global-semantic-tag-folding-mode</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">semantic-tag-folding-mode-map</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c , -&quot;</span><span class="p">)</span> <span class="ss">&#39;semantic-tag-folding-fold-block</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">semantic-tag-folding-mode-map</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c , +&quot;</span><span class="p">)</span> <span class="ss">&#39;semantic-tag-folding-show-block</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">semantic-tag-folding-mode-map</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-_&quot;</span><span class="p">)</span> <span class="ss">&#39;semantic-tag-folding-fold-all</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">semantic-tag-folding-mode-map</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-+&quot;</span><span class="p">)</span> <span class="ss">&#39;semantic-tag-folding-show-all</span><span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ==================== semantic ====================</span>
</span><span class="line"><span class="c1">;; (semantic-load-enable-minimum-features)</span>
</span><span class="line"><span class="p">(</span><span class="nf">semantic-load-enable-code-helpers</span><span class="p">)</span>
</span><span class="line"><span class="c1">;; (semantic-load-enable-guady-code-helpers)</span>
</span><span class="line"><span class="c1">;; (semantic-load-enable-excessive-code-helpers)</span>
</span><span class="line"><span class="p">(</span><span class="nf">semantic-load-enable-semantic-debugging-helpers</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; (semantic-decoration-mode 1)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; jump to definition</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="nv">f12</span><span class="err">]</span> <span class="ss">&#39;semantic-ia-fast-jump</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; go back</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="nv">S-f12</span><span class="err">]</span>
</span><span class="line">                <span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
</span><span class="line">                  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">                  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">ring-empty-p</span> <span class="p">(</span><span class="nf">oref</span> <span class="nv">semantic-mru-bookmark-ring</span> <span class="nv">ring</span><span class="p">))</span>
</span><span class="line">                      <span class="p">(</span><span class="nf">error</span> <span class="s">&quot;Semantic Bookmark ring is currently empty&quot;</span><span class="p">))</span>
</span><span class="line">                  <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">ring</span> <span class="p">(</span><span class="nf">oref</span> <span class="nv">semantic-mru-bookmark-ring</span> <span class="nv">ring</span><span class="p">))</span>
</span><span class="line">                         <span class="p">(</span><span class="nf">alist</span> <span class="p">(</span><span class="nf">semantic-mrub-ring-to-assoc-list</span> <span class="nv">ring</span><span class="p">))</span>
</span><span class="line">                         <span class="p">(</span><span class="nf">first</span> <span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">car </span><span class="nv">alist</span><span class="p">))))</span>
</span><span class="line">                    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">semantic-equivalent-tag-p</span> <span class="p">(</span><span class="nf">oref</span> <span class="nv">first</span> <span class="nv">tag</span><span class="p">)</span>
</span><span class="line">                                                   <span class="p">(</span><span class="nf">semantic-current-tag</span><span class="p">))</span>
</span><span class="line">                        <span class="p">(</span><span class="nf">setq</span> <span class="nv">first</span> <span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">alist</span><span class="p">)))))</span>
</span><span class="line">                    <span class="p">(</span><span class="nf">semantic-mrub-switch-tags</span> <span class="nv">first</span><span class="p">))))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;(define-key c-mode-base-map (kbd &quot;M-n&quot;) &#39;semantic-ia-complete-symbol)</span>
</span><span class="line"><span class="c1">;; -------------------- semantic --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ==================== gud ====================</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">gud-tooltip-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;gdb-mode-hook</span> <span class="o">&#39;</span><span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
</span><span class="line">                            <span class="p">(</span><span class="nf">define-key</span> <span class="nv">c-mode-base-map</span> <span class="err">[</span><span class="p">(</span><span class="nf">f5</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;gud-go</span><span class="p">)</span>
</span><span class="line">                            <span class="p">(</span><span class="nf">define-key</span> <span class="nv">c-mode-base-map</span> <span class="err">[</span><span class="p">(</span><span class="nf">f11</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;gud-step</span><span class="p">)</span>
</span><span class="line">                            <span class="p">(</span><span class="nf">define-key</span> <span class="nv">c-mode-base-map</span> <span class="err">[</span><span class="p">(</span><span class="nf">f10</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;gud-next</span><span class="p">)))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; -------------------- gud --------------------</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; compile</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">compilation-read-command</span> <span class="nv">nil</span><span class="p">)</span>	<span class="c1">;don&#39;t prompt to press ENTER</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">f7</span><span class="p">)</span><span class="err">]</span> <span class="p">(</span><span class="nf">lambda</span><span class="p">()</span>
</span><span class="line">			 <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">			 <span class="p">(</span><span class="nf">save-some-buffers</span> <span class="nv">t</span><span class="p">)</span>	   <span class="c1">;save all buffers</span>
</span><span class="line">			 <span class="p">(</span><span class="nf">compile</span> <span class="nv">compile-command</span><span class="p">)</span> <span class="c1">;compile</span>
</span><span class="line">			 <span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="nv">f4</span><span class="err">]</span> <span class="ss">&#39;eshell</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">shift</span> <span class="nv">f4</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;shell</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;定制C/C++缩进风格</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;c-mode-hook</span>
</span><span class="line">          <span class="o">&#39;</span><span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
</span><span class="line">             <span class="p">(</span><span class="nf">c-set-style</span> <span class="s">&quot;k&amp;r;&quot;</span><span class="p">)))</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;c++-mode-hook</span>
</span><span class="line">          <span class="o">&#39;</span><span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
</span><span class="line">             <span class="p">(</span><span class="nf">c-set-style</span> <span class="s">&quot;stroustrup&quot;</span><span class="p">)))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; 设置缩进字符数</span>
</span><span class="line"><span class="p">(</span><span class="nf">setq</span> <span class="nv">c-basic-offset</span> <span class="mi">4</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="p">(</span><span class="nf">f5</span><span class="p">)</span><span class="err">]</span> <span class="ss">&#39;speedbar</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class="line"><span class="c1">;; ;;; Auto-completion</span>
</span><span class="line"><span class="c1">;; ;;;  Integrates:</span>
</span><span class="line"><span class="c1">;; ;;;   1) Rope</span>
</span><span class="line"><span class="c1">;; ;;;   2) Yasnippet</span>
</span><span class="line"><span class="c1">;; ;;;   all with AutoComplete.el</span>
</span><span class="line"><span class="c1">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class="line"><span class="c1">;; (defun prefix-list-elements (list prefix)</span>
</span><span class="line"><span class="c1">;;   (let (value)</span>
</span><span class="line"><span class="c1">;;     (nreverse</span>
</span><span class="line"><span class="c1">;;      (dolist (element list value)</span>
</span><span class="line"><span class="c1">;;       (setq value (cons (format &quot;%s%s&quot; prefix element) value))))))</span>
</span><span class="line"><span class="c1">;; (defvar ac-source-rope</span>
</span><span class="line"><span class="c1">;;   &#39;((candidates</span>
</span><span class="line"><span class="c1">;;      . (lambda ()</span>
</span><span class="line"><span class="c1">;;          (prefix-list-elements (rope-completions) ac-target))))</span>
</span><span class="line"><span class="c1">;;   &quot;Source for Rope&quot;)</span>
</span><span class="line"><span class="c1">;; (defun ac-python-find ()</span>
</span><span class="line"><span class="c1">;;   &quot;Python `ac-find-function&#39;.&quot;</span>
</span><span class="line"><span class="c1">;;   (require &#39;thingatpt)</span>
</span><span class="line"><span class="c1">;;   (let ((symbol (car-safe (bounds-of-thing-at-point &#39;symbol))))</span>
</span><span class="line"><span class="c1">;;     (if (null symbol)</span>
</span><span class="line"><span class="c1">;;         (if (string= &quot;.&quot; (buffer-substring (- (point) 1) (point)))</span>
</span><span class="line"><span class="c1">;;             (point)</span>
</span><span class="line"><span class="c1">;;           nil)</span>
</span><span class="line"><span class="c1">;;       symbol)))</span>
</span><span class="line"><span class="c1">;; (defun ac-python-candidate ()</span>
</span><span class="line"><span class="c1">;;   &quot;Python `ac-candidates-function&#39;&quot;</span>
</span><span class="line"><span class="c1">;;   (let (candidates)</span>
</span><span class="line"><span class="c1">;;     (dolist (source ac-sources)</span>
</span><span class="line"><span class="c1">;;       (if (symbolp source)</span>
</span><span class="line"><span class="c1">;;           (setq source (symbol-value source)))</span>
</span><span class="line"><span class="c1">;;       (let* ((ac-limit (or (cdr-safe (assq &#39;limit source)) ac-limit))</span>
</span><span class="line"><span class="c1">;;              (requires (cdr-safe (assq &#39;requires source)))</span>
</span><span class="line"><span class="c1">;;              cand)</span>
</span><span class="line"><span class="c1">;;         (if (or (null requires)</span>
</span><span class="line"><span class="c1">;;                 (&gt;= (length ac-target) requires))</span>
</span><span class="line"><span class="c1">;;             (setq cand</span>
</span><span class="line"><span class="c1">;;                   (delq nil</span>
</span><span class="line"><span class="c1">;;                         (mapcar (lambda (candidate)</span>
</span><span class="line"><span class="c1">;;                                   (propertize candidate &#39;source source))</span>
</span><span class="line"><span class="c1">;;                                 (funcall (cdr (assq &#39;candidates source)))))))</span>
</span><span class="line"><span class="c1">;;         (if (and (&gt; ac-limit 1)</span>
</span><span class="line"><span class="c1">;;                  (&gt; (length cand) ac-limit))</span>
</span><span class="line"><span class="c1">;;             (setcdr (nthcdr (1- ac-limit) cand) nil))</span>
</span><span class="line"><span class="c1">;;         (setq candidates (append candidates cand))))</span>
</span><span class="line"><span class="c1">;;     (delete-dups candidates)))</span>
</span><span class="line"><span class="c1">;; (add-hook &#39;python-mode-hook</span>
</span><span class="line"><span class="c1">;;           (lambda ()</span>
</span><span class="line"><span class="c1">;;                  (auto-complete-mode 1)</span>
</span><span class="line"><span class="c1">;;                  (set (make-local-variable &#39;ac-sources)</span>
</span><span class="line"><span class="c1">;;                       (append ac-sources &#39;(ac-source-rope) &#39;(ac-source-yasnippet)))</span>
</span><span class="line"><span class="c1">;;                  (set (make-local-variable &#39;ac-find-function) &#39;ac-python-find)</span>
</span><span class="line"><span class="c1">;;                  (set (make-local-variable &#39;ac-candidate-function) &#39;ac-python-candidate)</span>
</span><span class="line"><span class="c1">;;                  (set (make-local-variable &#39;ac-auto-start) nil)))</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; ;;Ryan&#39;s python specific tab completion</span>
</span><span class="line"><span class="c1">;; (defun ryan-python-tab ()</span>
</span><span class="line"><span class="c1">;;   ; Try the following:</span>
</span><span class="line"><span class="c1">;;   ; 1) Do a yasnippet expansion</span>
</span><span class="line"><span class="c1">;;   ; 2) Do a Rope code completion</span>
</span><span class="line"><span class="c1">;;   ; 3) Do an indent</span>
</span><span class="line"><span class="c1">;;   (interactive)</span>
</span><span class="line"><span class="c1">;;   (if (eql (ac-start) 0)</span>
</span><span class="line"><span class="c1">;;       (indent-for-tab-command)))</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; (defadvice ac-start (before advice-turn-on-auto-start activate)</span>
</span><span class="line"><span class="c1">;;   (set (make-local-variable &#39;ac-auto-start) t))</span>
</span><span class="line"><span class="c1">;; (defadvice ac-cleanup (after advice-turn-off-auto-start activate)</span>
</span><span class="line"><span class="c1">;;   (set (make-local-variable &#39;ac-auto-start) nil))</span>
</span><span class="line"><span class="c1">;;</span>
</span><span class="line"><span class="c1">;; (define-key python-mode-map &quot;\t&quot; &#39;ryan-python-tab)</span>
</span><span class="line"><span class="c1">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class="line"><span class="c1">;; ;;; End Auto Completion</span>
</span><span class="line"><span class="c1">;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
</span><span class="line">
</span><span class="line"><span class="c1">;; git emacs</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/git-emacs/&quot;</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;git-emacs</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== w3m ====================</span>
</span><span class="line"><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/plugins/emacs-w3m-1.4.4&quot;</span><span class="p">)</span>
</span><span class="line"><span class="c1">;(require &#39;w3m-load)</span>
</span><span class="line"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;w3m-e21</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="nf">provide</span> <span class="ss">&#39;w3m-e23</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;-------------------- w3m --------------------</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="section-1">窗口切换布局的配置</h2>

<p>这个参考了IBM的配置</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>lisp  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
<span class="line-number">211</span>
<span class="line-number">212</span>
<span class="line-number">213</span>
<span class="line-number">214</span>
<span class="line-number">215</span>
<span class="line-number">216</span>
<span class="line-number">217</span>
<span class="line-number">218</span>
<span class="line-number">219</span>
<span class="line-number">220</span>
<span class="line-number">221</span>
<span class="line-number">222</span>
<span class="line-number">223</span>
<span class="line-number">224</span>
<span class="line-number">225</span>
<span class="line-number">226</span>
<span class="line-number">227</span>
<span class="line-number">228</span>
</pre></td><td class="code"><pre><code class="scm"><span class="line"><span class="c1">;; Setting By:  Hua Liang [ Stupid ET ]</span>
</span><span class="line"><span class="c1">;; email:       et@everet.org</span>
</span><span class="line"><span class="c1">;; website:     http://EverET.org</span>
</span><span class="line"><span class="c1">;; This is about auto setting window style.</span>
</span><span class="line"><span class="c1">;; You can read the diagram.</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== window ====================</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">eval-when-compile</span> <span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;cl</span><span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">winner-mode</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">; +----------+-----------+</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; +----------+-----------+</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; +----------+-----------+</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-window-4</span><span class="p">()</span>
</span><span class="line">  <span class="s">&quot;Splite window into 4 sub-window&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">2</span><span class="p">)</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class="line">	     <span class="p">)</span>
</span><span class="line">    <span class="p">)</span>
</span><span class="line">  <span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-x 4 4&quot;</span><span class="p">)</span> <span class="ss">&#39;split-window-4</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">; +----------------+</span>
</span><span class="line"><span class="c1">; |                |</span>
</span><span class="line"><span class="c1">; +----------------+</span>
</span><span class="line"><span class="c1">; |                |</span>
</span><span class="line"><span class="c1">; +----------------+</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-window-up-down</span><span class="p">()</span>
</span><span class="line">  <span class="s">&quot;Splite window into 2 up and down window&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">split-window-vertically</span> <span class="mi">-10</span><span class="p">)</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">eshell</span><span class="p">)</span>
</span><span class="line">	     <span class="p">)</span>
</span><span class="line">    <span class="p">))</span>
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-x 4 2&quot;</span><span class="p">)</span> <span class="ss">&#39;split-window-up-down</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">; +----------+-----------+</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; +          +-----------+</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; |          |           |</span>
</span><span class="line"><span class="c1">; +----------+-----------+</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-window-3</span><span class="p">()</span>
</span><span class="line">  <span class="s">&quot;Splite window into 3 sub-window&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">1</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>         <span class="c1">;split to left and right</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">enlarge-window-horizontally</span> <span class="mi">15</span><span class="p">)</span>	 <span class="c1">;make the main window bigger</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>		         <span class="c1">;go to the right window</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>	         <span class="c1">;split the right window to two window</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">eshell</span><span class="p">)</span>			         <span class="c1">;open shell at left top window</span>
</span><span class="line">	     <span class="p">(</span><span class="nf">other-window</span> <span class="mi">2</span><span class="p">)</span> 		         <span class="c1">;go back to origin window</span>
</span><span class="line">	     <span class="p">)</span>
</span><span class="line">    <span class="p">)</span>
</span><span class="line">  <span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-x 4 3&quot;</span><span class="p">)</span> <span class="ss">&#39;split-window-3</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">;  +----------------------+                 +------------+-----------+</span>
</span><span class="line"><span class="c1">;  |                      |           \     |            |           |</span>
</span><span class="line"><span class="c1">;  |                      |   +-------+\    |            |           |</span>
</span><span class="line"><span class="c1">;  +----------+-----------+   +-------+/    |            +-----------+</span>
</span><span class="line"><span class="c1">;  |          |           |           /     |            |           |</span>
</span><span class="line"><span class="c1">;  |          |           |                 |            |           |</span>
</span><span class="line"><span class="c1">;  +----------+-----------+                 +------------+-----------+</span>
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-v-3</span> <span class="p">()</span>
</span><span class="line">  <span class="s">&quot;Change 3 window style from horizontal to vertical&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))))</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;%s %s %s&quot;</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">delete-other-windows</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="p">(</span><span class="nf">next-window</span><span class="p">)</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class="line">	  <span class="p">))))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;  +------------+-----------+                  +----------------------+</span>
</span><span class="line"><span class="c1">;  |            |           |            \     |                      |</span>
</span><span class="line"><span class="c1">;  |            |           |    +-------+\    |                      |</span>
</span><span class="line"><span class="c1">;  |            +-----------+    +-------+/    +----------+-----------+</span>
</span><span class="line"><span class="c1">;  |            |           |            /     |          |           |</span>
</span><span class="line"><span class="c1">;  |            |           |                  |          |           |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+                  +----------+-----------+</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">split-h-3</span> <span class="p">()</span>
</span><span class="line">  <span class="s">&quot;Change 3 window style from vertical to horizontal&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))))</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;%s %s %s&quot;</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">	  <span class="p">(</span><span class="nf">delete-other-windows</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">split-window-vertically</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">other-window</span> <span class="mi">1</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">split-window-horizontally</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="p">(</span><span class="nf">next-window</span><span class="p">)</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class="line">	  <span class="p">))))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;  +------------+-----------+                 +------------+-----------+</span>
</span><span class="line"><span class="c1">;  |            |           |            \    |            |           |</span>
</span><span class="line"><span class="c1">;  |            |           |    +-------+\   |            |           |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+    +-------+/   +------------+           |</span>
</span><span class="line"><span class="c1">;  |                        |            /    |            |           |</span>
</span><span class="line"><span class="c1">;  |                        |                 |            |           |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+                 +------------+-----------+</span>
</span><span class="line"><span class="c1">;  +------------+-----------+                 +------------+-----------+</span>
</span><span class="line"><span class="c1">;  |            |           |            \    |            |           |</span>
</span><span class="line"><span class="c1">;  |            |           |    +-------+\   |            |           |</span>
</span><span class="line"><span class="c1">;  |            +-----------+    +-------+/   +------------+-----------+</span>
</span><span class="line"><span class="c1">;  |            |           |            /    |                        |</span>
</span><span class="line"><span class="c1">;  |            |           |                 |                        |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+                 +------------+-----------+</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">change-split-type-3</span> <span class="p">()</span>
</span><span class="line">  <span class="s">&quot;Change 3 window style from horizontal to vertical and vice-versa&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">))))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">)))))</span>
</span><span class="line">
</span><span class="line">	      <span class="p">(</span><span class="nf">split-3</span>
</span><span class="line">	       <span class="p">(</span><span class="nf">lambda</span><span class="p">(</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span> <span class="nv">split-1</span> <span class="nv">split-2</span><span class="p">)</span>
</span><span class="line">		 <span class="s">&quot;change 3 window from horizontal to vertical and vice-versa&quot;</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;%s %s %s&quot;</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">		 <span class="p">(</span><span class="nf">delete-other-windows</span><span class="p">)</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">funcall</span> <span class="nv">split-1</span><span class="p">)</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">funcall</span> <span class="nv">split-2</span><span class="p">)</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="p">(</span><span class="nf">next-window</span><span class="p">)</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">other-window</span> <span class="mi">2</span><span class="p">)</span>
</span><span class="line">		 <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="nv">nil</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)))</span>
</span><span class="line">
</span><span class="line">	      <span class="p">(</span><span class="nf">split-type-1</span> <span class="nv">nil</span><span class="p">)</span>
</span><span class="line">	      <span class="p">(</span><span class="nf">split-type-2</span> <span class="nv">nil</span><span class="p">)</span>
</span><span class="line">	      <span class="p">)</span>
</span><span class="line">	  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">window-width</span><span class="p">)</span> <span class="p">(</span><span class="nf">frame-width</span><span class="p">))</span>
</span><span class="line">	      <span class="p">(</span><span class="nf">setq</span> <span class="nv">split-type-1</span> <span class="ss">&#39;split-window-horizontally</span>
</span><span class="line">		    <span class="nv">split-type-2</span> <span class="ss">&#39;split-window-vertically</span><span class="p">)</span>
</span><span class="line">	    <span class="p">(</span><span class="nf">setq</span> <span class="nv">split-type-1</span> <span class="ss">&#39;split-window-vertically</span>
</span><span class="line">		  <span class="nv">split-type-2</span> <span class="ss">&#39;split-window-horizontally</span><span class="p">))</span>
</span><span class="line">	  <span class="p">(</span><span class="nf">funcall</span> <span class="nv">split-3</span> <span class="mi">1</span><span class="nv">stBuf</span> <span class="mi">2</span><span class="nv">ndBuf</span> <span class="mi">3</span><span class="nv">rdBuf</span> <span class="nv">split-type-1</span> <span class="nv">split-type-2</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">	  <span class="p">))))</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-x 4 c&quot;</span><span class="p">)</span> <span class="p">(</span><span class="k">quote </span><span class="nv">change-split-type-3</span><span class="p">))</span>
</span><span class="line">
</span><span class="line"><span class="c1">;;==================== buffer =====================</span>
</span><span class="line">
</span><span class="line"><span class="c1">;  +------------+-----------+                   +------------+-----------+</span>
</span><span class="line"><span class="c1">;  |            |     C     |            \      |            |     A     |</span>
</span><span class="line"><span class="c1">;  |            |           |    +-------+\     |            |           |</span>
</span><span class="line"><span class="c1">;  |     A      |-----------|    +-------+/     |     B      |-----------|</span>
</span><span class="line"><span class="c1">;  |            |     B     |            /      |            |     C     |</span>
</span><span class="line"><span class="c1">;  |            |           |                   |            |           |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+                   +------------+-----------+</span>
</span><span class="line"><span class="c1">;</span>
</span><span class="line"><span class="c1">;  +------------------------+                   +------------------------+</span>
</span><span class="line"><span class="c1">;  |           A            |           \       |           B            |</span>
</span><span class="line"><span class="c1">;  |                        |   +-------+\      |                        |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+   +-------+/      +------------+-----------+</span>
</span><span class="line"><span class="c1">;  |     B      |     C     |           /       |     C      |     A     |</span>
</span><span class="line"><span class="c1">;  |            |           |                   |            |           |</span>
</span><span class="line"><span class="c1">;  +------------+-----------+                   +------------+-----------+</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">defun</span> <span class="nv">roll-v-3</span> <span class="p">(</span><span class="nf">&amp;optional</span><span class="c1">; arg)</span>
</span><span class="line">  <span class="s">&quot;Rolling 3 window buffers (anti-)clockwise&quot;</span>
</span><span class="line">  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;P&quot;</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">get-largest-window</span><span class="p">))</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">3</span> <span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">winList</span> <span class="p">(</span><span class="nf">window-list</span><span class="p">)))</span>
</span><span class="line">	<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stWin</span> <span class="p">(</span><span class="nb">car </span><span class="nv">winList</span><span class="p">))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">2</span><span class="nv">ndWin</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nb">cdr </span><span class="nv">winList</span><span class="p">)))</span>
</span><span class="line">	      <span class="p">(</span><span class="mi">3</span><span class="nv">rdWin</span> <span class="p">(</span><span class="nb">car </span><span class="p">(</span><span class="nf">last</span> <span class="nv">winList</span><span class="p">))))</span>
</span><span class="line">	  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="mi">1</span><span class="nv">stBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="mi">1</span><span class="nv">stWin</span><span class="p">))</span>
</span><span class="line">		<span class="p">(</span><span class="mi">2</span><span class="nv">ndBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="mi">2</span><span class="nv">ndWin</span><span class="p">))</span>
</span><span class="line">		<span class="p">(</span><span class="mi">3</span><span class="nv">rdBuf</span> <span class="p">(</span><span class="nf">window-buffer</span> <span class="mi">3</span><span class="nv">rdWin</span><span class="p">)))</span>
</span><span class="line">	    <span class="p">(</span><span class="k">if </span><span class="nv">arg</span> <span class="p">(</span><span class="nf">progn</span>
</span><span class="line">					<span class="c1">; anti-clockwise</span>
</span><span class="line">		      <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">1</span><span class="nv">stWin</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">		      <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">2</span><span class="nv">ndWin</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">)</span>
</span><span class="line">		      <span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">3</span><span class="nv">rdWin</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">))</span>
</span><span class="line">	      <span class="p">(</span><span class="nf">progn</span>                                      <span class="c1">; clockwise</span>
</span><span class="line">		<span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">1</span><span class="nv">stWin</span> <span class="mi">2</span><span class="nv">ndBuf</span><span class="p">)</span>
</span><span class="line">		<span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">2</span><span class="nv">ndWin</span> <span class="mi">3</span><span class="nv">rdBuf</span><span class="p">)</span>
</span><span class="line">		<span class="p">(</span><span class="nf">set-window-buffer</span> <span class="mi">3</span><span class="nv">rdWin</span> <span class="mi">1</span><span class="nv">stBuf</span><span class="p">))</span>
</span><span class="line">	      <span class="p">))))))</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-x 4 r&quot;</span><span class="p">)</span>  <span class="p">(</span><span class="k">quote </span><span class="nv">roll-v-3</span><span class="p">))</span>
</span><span class="line"><span class="c1">;;-------------------- window -------------------</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nf">provide</span> <span class="ss">&#39;window-setting</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>



  <span>本文链接: <a href="http://everet.org/2012/03/emacs.html">http://everet.org/2012/03/emacs.html</a></span>
  <hr/>
    <h3>您可能也喜欢</h3>
    <ul>
    
        <li>
        <a href="/2012/03/vim.html">我的Vim配置</a>
        </li>
    
        <li>
        <a href="/2012/12/screenshot-and-image-paste-in-emacs-when-writing-markdown.html">Screenshot And Image Paste in Emacs When Writing Markdown</a>
        </li>
    
        <li>
        <a href="/2012/07/add-new-grammer-to-python.html">走进Python: 为Python增加新语法</a>
        </li>
    
        <li>
        <a href="/2012/03/ftp-protocol.html">Mission: FTP Protocol</a>
        </li>
    
        <li>
        <a href="/2012/05/errno-table.html">errno表</a>
        </li>
    
    </ul>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Stupid ET</span></span>

      








  


<time datetime="2012-03-26T03:29:23+08:00" pubdate data-updated="true">2012-03-26</time>
      

<span class="categories">
  
    <a class='category' href='/category/it/'>IT</a>
  
</span>


      

<span class="categories">
  Tags:&nbsp
  
    <a class='tag' href='/tag/emacs/'>Emacs</a>
  
</span>



    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://everet.org/2012/03/emacs.html" data-via="" data-counturl="http://everet.org/2012/03/emacs.html" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2012/03/vim.html" title="Previous Post: 我的Vim配置">&laquo; 我的Vim配置</a>
      
      
        <a class="basic-alignment right" href="/2012/03/dramatic-comment-in-stdio-h.html" title="Next Post: 在stdio.h中发现一个很强悍注释">在stdio.h中发现一个很强悍注释 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>Cedric Porter is Stupid ET.</p>
  <p>EverET.org is provided by Stupid ET.</p>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 112%" href="/tag/android/">Android</a>
<a style="font-size: 131%" href="/tag/apache/">Apache</a>
<a style="font-size: 80%" href="/tag/boost/">Boost</a>
<a style="font-size: 80%" href="/tag/bugzilla/">Bugzilla</a>
<a style="font-size: 177%" href="/tag/c-/">C++</a>
<a style="font-size: 131%" href="/tag/captcha/">Captcha</a>
<a style="font-size: 164%" href="/tag/clover/">Clover</a>
<a style="font-size: 112%" href="/tag/datastructure/">DataStructure</a>
<a style="font-size: 80%" href="/tag/design/">Design</a>
<a style="font-size: 131%" href="/tag/emacs/">Emacs</a>
<a style="font-size: 80%" href="/tag/english/">English</a>
<a style="font-size: 171%" href="/tag/git/">Git</a>
<a style="font-size: 80%" href="/tag/gitosis/">Gitosis</a>
<a style="font-size: 112%" href="/tag/gitweb/">Gitweb</a>
<a style="font-size: 183%" href="/tag/image-processing/">Image Processing</a>
<a style="font-size: 80%" href="/tag/imagination-factory/">Imagination Factory</a>
<a style="font-size: 80%" href="/tag/irrlicht/">Irrlicht</a>
<a style="font-size: 80%" href="/tag/lnmp/">LNMP</a>
<a style="font-size: 207%" href="/tag/linux/">Linux</a>
<a style="font-size: 80%" href="/tag/lisp/">Lisp</a>
<a style="font-size: 80%" href="/tag/markdown/">Markdown</a>
<a style="font-size: 80%" href="/tag/moinmoin/">MoinMoin</a>
<a style="font-size: 131%" href="/tag/mysql/">Mysql</a>
<a style="font-size: 145%" href="/tag/nginx/">Nginx</a>
<a style="font-size: 155%" href="/tag/ogre/">OGRE</a>
<a style="font-size: 80%" href="/tag/octopress/">Octopress</a>
<a style="font-size: 131%" href="/tag/php/">PHP</a>
<a style="font-size: 131%" href="/tag/pil/">PIL</a>
<a style="font-size: 250%" href="/tag/python/">Python</a>
<a style="font-size: 80%" href="/tag/qq/">QQ</a>
<a style="font-size: 80%" href="/tag/ruby/">Ruby</a>
<a style="font-size: 80%" href="/tag/svn/">SVN</a>
<a style="font-size: 112%" href="/tag/scar/">Scar</a>
<a style="font-size: 112%" href="/tag/tortoisegit/">TortoiseGit</a>
<a style="font-size: 164%" href="/tag/ubuntu/">Ubuntu</a>
<a style="font-size: 145%" href="/tag/ultrademo/">UltraDemo</a>
<a style="font-size: 80%" href="/tag/vpn/">VPN</a>
<a style="font-size: 112%" href="/tag/vim/">Vim</a>
<a style="font-size: 112%" href="/tag/wpf/">WPF</a>
<a style="font-size: 188%" href="/tag/web/">Web</a>
<a style="font-size: 164%" href="/tag/wordpress/">Wordpress</a>
<a style="font-size: 171%" href="/tag/compile/">compile</a>
<a style="font-size: 80%" href="/tag/cygwin/">cygwin</a>
<a style="font-size: 80%" href="/tag/ppp/">ppp</a>
<a style="font-size: 80%" href="/tag/pptpd/">pptpd</a>
<a style="font-size: 80%" href="/tag/rsync/">rsync</a>
<a style="font-size: 80%" href="/tag/sendmail/">sendmail</a>
<a style="font-size: 80%" href="/tag/ssh/">ssh</a>
<a style="font-size: 80%" href="/tag/uwsgi/">uWSGI</a>
<a style="font-size: 80%" href="/tag/virtual-memory/">virtual memory</a>

  </ul>
</section>
<section>
  <h1>Friends</h1>
    <a href="http://www.kidsang.com/" target="_blank">树桑小朋友的自留地</a>
    | <a href="http://xiaoxia.org/" target="_blank">XIAOXIA[PG]</a>
    | <a href="http://huanghuachao.cn/" target="_blank">Richard Huang's Blog</a>
    | <a href="http://jiafei.org/" target="_blank">jiafei</a>
    | <a href="http://xuyufish.com/" target="_blank">Fish</a>
    | <a href="http://zhke.name/" target="_blank">汗青-home</a>
    | <a href="http://www.dorgel.net/blog" target="_blank">Dorgel&#039;s Blog</a>
    | <a href="http://spead.everet.org" title="俊杰的空间" target="_blank">Spead&#039;s Blog</a>
</section>
<section>
  <h1>Recent Comments</h1>
  <div id="dsq-recentcomments" class="dsq-widget"><script type="text/javascript" src="http://disqus.com/forums/everet/recent_comments_widget.js?hide_avatars=0&num_items=5&excerpt_length=100"></script></div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/01/keep-learning.html">Keep Learning</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/tt.html">由TT引发的思考</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/screenshot-and-image-paste-in-emacs-when-writing-markdown.html">Screenshot And Image Paste in Emacs When Writing Markdown</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/migrate-from-wordpress-to-octopress.html">From Wordpress to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/debug-nginx.html">调试Nginx</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Stupid ET -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'everet';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://everet.org/2012/03/emacs.html';
        var disqus_url = 'http://everet.org/2012/03/emacs.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
