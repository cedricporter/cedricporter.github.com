
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Clover进度 - EverET.org</title>
  <meta name="author" content="Stupid ET">

  
  <meta name="description" content="2012-3-30: 今天我们把视频提交了。也上传了一份。 http://v.youku.com/v_show/id_XMzc0MTAyMDg0.html 2012-3-19： 前几天各种生病，今天好多了，又要准备开工了… 2012-3-13： 现在是凌晨1点18分， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://everet.org/2012/01/clover-progress.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="EverET.org" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-28529727-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">EverET.org</a></h1>
  
    <h2>Better to do something imperfectly than to do nothing flawlessly.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:everet.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/my-works">Works</a></li>
  <li><a href="http://414112390.qzone.qq.com/#!app=4" target="_blank">Albums</a></li>
  <li><a href="/liuyana">Msg Board</a></li>
  <li><a href="/about-me">About Me</a></li>
  <li><a href="http://github.com/cedricporter">et@github</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Clover进度</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-28T01:31:58+08:00" pubdate data-updated="true">2012-01-28</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content">
  <h3 id="section">2012-3-30:</h3>

<p>今天我们把视频提交了。也上传了一份。</p>

<p><a href="http://v.youku.com/v_show/id_XMzc0MTAyMDg0.html">http://v.youku.com/v_show/id_XMzc0MTAyMDg0.html<!-- more --></a></p>

<h3 id="section-1">2012-3-19：</h3>

<p>前几天各种生病，今天好多了，又要准备开工了…<!-- more --></p>

<h3 id="section-2">2012-3-13：</h3>

<p>现在是凌晨1点18分，在FoldingUp的group排序似乎可以用了。下一步工作也基本可以开始了。</p>

<p>天气多变，很多人都生病了啊。</p>

<p>加油啊！</p>

<h3 id="section-3">2012-3-12:</h3>

<p>今天是植树节，其实平时也是完全没时间概念，只是看到Google的Logo才想起已经是12号了。</p>

<p>现在是16点37分，刚刚实现了动画，把解释器放到另一个线程，每执行一条重要的命令就会阻塞到动画做完。</p>

<p>现在准备做鼠标折纸，然后自动生成脚本文件。</p>

<p>我们已经进入第三行了啊~悲剧了啊~~</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/QQ截图20120312163717.png"><img src="http://everet.org/wp-content/uploads/2012/01/QQ截图20120312163717.png" alt="" /><!-- more --></a></p>

<h3 id="section-4">2012-3-11:</h3>

<p>现在是11号凌晨0点53分，刚刚写完了Clover数据结构文件保存的文章，留个链接</p>

<p><a href="http://everet.org/2012/03/clover-save-file.html">http://everet.org/2012/03/clover-save-file.html</a></p>

<h3 id="section-5">2012-3-10:</h3>

<p>今晚花了一晚就实现了文件的保存和读取，重建整个结构其实还是比想象中简单很多啊~~</p>

<p>现在是下午14:43，Todo List变成这样了。</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/IMG_0016.jpg"><img src="http://everet.org/wp-content/uploads/2012/01/IMG_0016.jpg" alt="" /><!-- more --></a></p>

<h3 id="section-6">2012-3-9：</h3>

<p>加了4行就把CutFace的割两边的版本改造成支持所有情况了。</p>

<p>ShadowSystem的Undo和Redo基本可以用了，Revert还有点问题。</p>

<p>旭瑜貌似在帮另外一拨人做Android的界面，Group写了很久了。</p>

<p>师兄在实现鼠标拖那张纸。</p>

<p>今天屠文翔同学一起弄ShadowSystem，晚点屠文翔会弄多层纸的交互。<!-- more --></p>

<h3 id="section-7">2012-3-8:</h3>

<p>11点多收到明天面试，本来还想接着写完ShadowSystem的，就临时拿本《算法导论》看看了，很久没翻过了。</p>

<h3 id="section-8">2012-3-7:</h3>

<p>现在是凌晨2点22分，我发现cut face在更新整个数据结构的时候还是会有所遗漏，明天再弄了。</p>

<p>发现问题出在我最引以为傲的2B算法上。</p>

<p>现在目前我们的工作总结：</p>

<p>屠文翔同学弄了FoldingUp和Bending两种模式的视觉效果了…</p>

<p>Group还没有顺序，这个问题很严重，会导致绘图的时候面的次序出错。旭瑜要加油啊。</p>

<p>师兄正在主要还是在解决一些复杂的数学问题….</p>

<!-- more -->

<h3 id="section-9">2012-3-6:</h3>

<p>想一下我们现在的TODO List：</p>

<ol>
  <li>
    <p>将3维的纸张重新映射回2维的值，得到有折痕的纸。</p>
  </li>
  <li>
    <p>将折痕变成提示折痕</p>
  </li>
  <li>
    <p>脚本引擎的完善</p>
  </li>
  <li>
    <p>自动贴合</p>
  </li>
  <li>
    <p>避免面完全重叠</p>
  </li>
  <li>
    <p>将折纸过程重放，需要深入理解这个数据结构才可以完成</p>
  </li>
  <li>
    <p>保存文件</p>
  </li>
  <li>
    <p>加载文件</p>
  </li>
  <li>
    <p>换贴图</p>
  </li>
</ol>

<h5 id="section-10">对于脚本引擎的想法：</h5>

<ul>
  <li>
    <p>虽然对于普通用户可能没什么用，但是脚本对于我们测试整个系统有着莫大的帮助。</p>
  </li>
  <li>
    <p>而且对于我们的技术分也有提高。</p>
  </li>
  <li>
    <p>臆想的效果是：进入脚本折叠模式后，弹出代码框和一个输出框（默认不显示，主要用于提示他的语法错误了），</p>
  </li>
  <li>
    <p>然后友好地弹出每个顶点的索引和位置，还需要尽量避免信息框互相遮挡。</p>
  </li>
  <li>
    <p>为了解决遮挡问题，我们可以鼠标点击某个顶点，会另外弹出一个特殊的框来显示顶点的信息。</p>
  </li>
</ul>

<hr />

<p>现在是北京时间凌晨4点22分，我终于折好了飞机，发现问题出在Face引用了历史中的Vertex。睡醒了再修正了。</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/QQ截图20120306042141.png"><img src="http://everet.org/wp-content/uploads/2012/01/QQ截图20120306042141.png" alt="" /></a></p>

<p>使用如下的脚本….很2B，需要改进</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>python  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="c">#</span>
</span><span class="line"><span class="c"># 2B飞机 By ET</span>
</span><span class="line"><span class="c">#</span>
</span><span class="line">
</span><span class="line"><span class="c"># 先在中间画条折线</span>
</span><span class="line"><span class="n">edgeMiddle</span> <span class="o">=</span> <span class="n">Edge</span><span class="p">(</span><span class="n">Vertex</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Vertex</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span class="line"><span class="n">face</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="line"><span class="n">CutFace2</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">edgeMiddle</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="k">for</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">,</span> <span class="n">sign</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]:</span>
</span><span class="line">    <span class="c"># 左上角往回折</span>
</span><span class="line">    <span class="n">edge</span> <span class="o">=</span> <span class="n">Edge</span><span class="p">(</span><span class="n">Vertex</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Vertex</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span class="line">    <span class="n">face</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="n">v1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="line">    <span class="n">CutFace2</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">edge</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="n">faces</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
</span><span class="line">    <span class="n">RotateFaces</span><span class="p">(</span><span class="n">faces</span><span class="p">,</span> <span class="n">edge</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="c"># 上面1/4反折</span>
</span><span class="line">    <span class="n">edge</span> <span class="o">=</span> <span class="n">Edge</span><span class="p">(</span><span class="n">Vertex</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Vertex</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span class="line">    <span class="n">face</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="n">v2</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="line">    <span class="n">CutFace2</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">edge</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="n">edge</span> <span class="o">=</span> <span class="n">Edge</span><span class="p">(</span><span class="n">Vertex</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Vertex</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span class="line">    <span class="n">face</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="n">v1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="line">    <span class="n">CutFace2</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">edge</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="c"># 翅膀往回折</span>
</span><span class="line">    <span class="n">faces</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span>
</span><span class="line">    <span class="n">RotateFaces</span><span class="p">(</span><span class="n">faces</span><span class="p">,</span> <span class="n">edge</span><span class="p">,</span> <span class="n">sign</span> <span class="o">*</span> <span class="mi">90</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c"># 对折</span>
</span><span class="line"><span class="n">faces</span> <span class="o">=</span> <span class="n">FindFacesByVertex</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
</span><span class="line"><span class="n">RotateFaces</span><span class="p">(</span><span class="n">faces</span><span class="p">,</span> <span class="n">edgeMiddle</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>大合照：</p>

<!-- more -->

<p> <a href="http://everet.org/wp-content/uploads/2012/01/QQ截图20120306141134.png"><img src="http://everet.org/wp-content/uploads/2012/01/QQ截图20120306141134.png" alt="" /></a></p>

<h3 id="section-11">2012-3-5:</h3>

<p>今天凌晨3点实现了割线过0个顶点的cut a face。可以使用脚本割面和折叠了。</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/未命名2.jpg"><img src="http://everet.org/wp-content/uploads/2012/01/未命名2.jpg" alt="" /></a></p>

<p>我们的提交日志，超长的图片:<!-- more --></p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/2012-03-05-16-16-07.png"><img src="http://everet.org/wp-content/uploads/2012/01/2012-03-05-16-16-07.png" alt="" /></a></p>

<h3 id="section-12">2012-3-4:</h3>

<p>刚刚花了2个小时加了脚本引擎，可以使用脚本来控制整个系统。哇哈哈~~~</p>

<p>原来这么简单啊….</p>

<p>屠文翔同学也做了进入折叠模式的特效。还有折叠时的半透明效果，相当的牛逼啊。</p>

<p>为了方便脚本控制折叠，我们将每个点都显示出来了。</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/QQ截图20120304205034.png"><img src="http://everet.org/wp-content/uploads/2012/01/QQ截图20120304205034.png" alt="" /></a></p>

<h3 id="more---2012-3-3"><!-- more -->2012-3-3:</h3>

<p>好久没有更新了，猛地发现已将近一个月都没更新了。</p>

<p>现在已经可以用代码折叠了….截个图留念一下…</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/QQ截图20120303215309.png"><img src="http://everet.org/wp-content/uploads/2012/01/QQ截图20120303215309.png" alt="" /></a></p>

<h3 id="more---2012-2-6"><!-- more -->2012-2-6:</h3>

<p>今天把面分割和折叠写了。</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/未命名1.jpg"><img src="http://everet.org/wp-content/uploads/2012/01/未命名1.jpg" alt="" /></a></p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/21.jpg"><img src="http://everet.org/wp-content/uploads/2012/01/21.jpg" alt="" /></a></p>

<p>数据结构见：<a href="http://everet.org/2012/02/clover-data-structure.html">http://everet.org/2012/02/clover-data-structure.html</a></p>

<h3 id="section-13">2012-2-1:</h3>

<p>刚刚把我测试的分支里的main.py拆分开来了。</p>

<h3 id="section-14">2012-1-31：</h3>

<p>发现动手写代码还是需要看很多遍Tutorial，记下地址：[http://wiki.python-ogre.org/index.php/Basic_Tutorial<em>1](http://wiki.python-ogre.org/index.php/Basic_Tutorial</em>1)</p>

<p><strong>屠文翔同学的日志：<a href="http://www.cnblogs.com/kidshusang/archive/2012/01/31/2333970.html">http://www.cnblogs.com/kidshusang/archive/2012/01/31/2333970.html</a> 转载过来存档。</strong></p>

<blockquote>
  <p>果然验证了简单的问题不简单，想要弄个导航立方体，遇到了各种各样的难题</p>
</blockquote>

<p>首先是Ogre貌似并不能直接导入3ds模型，Ogre仅支持自己的.mesh格式的模型</p>

<p>所以我要通过一个叫做3ds2mesh的工具把我的立方体3ds转换成mesh</p>

<!-- more -->

<p>第二个难题是为立方体贴图</p>

<p>因为6个面标识着六个方向，所以要为六个不同的面贴不同的图</p>

<p>这就意味着我第一步的工作白费了！无法为一个现成的，空白的六面体贴图</p>

<p>这就意味着，要不我就用3dsMax把贴好图的立方体导出来，要不我就用代码生成一个立方体，并同时为每一个面定义贴图</p>

<p>我选择后者。（参考资料的传送门：<a href="http://0flyingpig0.blog.163.com/blog/static/9937055620101209433665/">http://0flyingpig0.blog.163.com/blog/static/9937055620101209433665/</a>）</p>

<p>第三个难题是，Ogre管理Material（材质）的方法和Irrlicht真的是完全不一样</p>

<p>在Ogre里面，如果想要控制光照，反面裁剪，纹理贴图，就要自己新建一个Material，并给Entity赋予这个Material</p>

<p>而Irrlicht里面只用设个标志位就好了</p>

<p>我不能说哪种方法更好，不过看起来Irrlicht的方法更简单，而Ogre的方法更专业</p>

<p>另外，材质也是可以使用脚本的，脚本后缀名为.material</p>

<p>（脚本使用方法传送门：[http://www.ogre3d.org/docs/manual/manual<em>14.html#SEC23](http://www.ogre3d.org/docs/manual/manual</em>14.html#SEC23)）</p>

<p>（脚本教程传送门：<a href="http://www.ogre3d.org/tikiwiki/MadMarx+Tutorial+7&amp;structure=Tutorials">http://www.ogre3d.org/tikiwiki/MadMarx+Tutorial+7&amp;structure=Tutorials</a>）</p>

<p>第四个难题揭示了我是多么的天真。</p>

<p>现在我已经弄好了六面体，并且把它摆在场景中央</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/r_未命名-1.jpg"><img src="http://everet.org/wp-content/uploads/2012/01/r_未命名-1.jpg" alt="" /></a></p>

<p>一切看起来正常，六面体的正面正对着我。</p>

<p>貌似此时需要做的只是写玩导航逻辑就大功告成，也就是说我拖动六面体，场景镜头就会转动</p>

<p>可是我觉得把一个导航块放在场景中间有些不合适，所以我决定把它放在旁边</p>

<p>尼玛啊……</p>

<p>它在逻辑上是朝向这正面，但是由于视角问题，变得好像不是朝向正面</p>

<p>解决方法我先在想到的有两种</p>

<p>第一种是让它倾斜一个角度朝向我，并把这个方向当做是初始方向，以后的旋转镜头都加上这个偏移量</p>

<p>第二种是将这个六面体渲染成一张texture（RTT）并贴出来</p>

<p>我先试试看第一种方法……</p>

<p><a href="http://everet.org/wp-content/uploads/2012/01/r_未命名-2.jpg"><img src="http://everet.org/wp-content/uploads/2012/01/r_未命名-2.jpg" alt="" /></a></p>

<p>另外，Ogre管理资源的方法真的是非常的诡异，有空我要好好看看这篇东西<a href="http://www.ogre3d.org/tikiwiki/Resources+and+ResourceManagers&amp;structure=Tutorials">http://www.ogre3d.org/tikiwiki/Resources+and+ResourceManagers&amp;structure=Tutorials</a></p>

<p><strong>屠文翔同学的日志：<a href="http://www.cnblogs.com/kidshusang/archive/2012/01/31/2332526.html">http://www.cnblogs.com/kidshusang/archive/2012/01/31/2332526.html</a> 转载过来存档。</strong></p>

<blockquote>
  <p>啊，这一晃眼十多天就过去了</p>
</blockquote>

<p>今天天气转暖了，是个开始工作的好日子</p>

<p>前两天亮哥提议我们使用Python加速开发，也就是使用PythonOgre，是个不错的建议</p>

<p>于是前两天装了PythonOgre，看了看教程和例子，发现PythonOgre里面已经集成了CEGUI，好吧真方便</p>

<p>（顺便吐槽一下，这几天习惯了使用VIM，突然有点不习惯普通的文本编辑方式）</p>

<p>今天开了小组会议，会议中我们把Clover逻辑层面的数据结构给讨论了一下</p>

<p>会议记录传送门：<a href="http://everet.org/2012/01/clover-architecture-design-meeting.html">http://everet.org/2012/01/clover-architecture-design-meeting.html</a></p>

<p>（密码什么的我会随便乱说么）</p>

<!-- more -->

<p>回顾一下今天我做的事</p>

<p>因为vim，python和pythonOgre我一个都不熟，所以花费在熟悉他们上面的时间比干正事的时间多得多</p>

<p>不过总算我理清了python是如何处理类，模块和集成的了</p>

<p>之前帮骨架系统装上界面后，CEGUI把所有键盘和鼠标消息都截断了</p>

<p>于是亮哥抱怨无法“围观”他的作品，只好自己开个无界面版的分支</p>

<p>我自己也开了个分支，尝试解决这个问题</p>

<p>不过在经过研究Ogre.Renderer.Ogre.sf_ois模块中的代码和一些尝试以后，我发现这个问题还真不太好解决（也可能是我没太明白它的消息处理机制），而且也没什么必要去解决（因为我们的软件必然不是用WASD来移动照相机……）</p>

<p>我决定明天开始研究如何完全使用鼠标来移动视角</p>

<p>计划下明天要做的事</p>

<p>首先，纯用鼠标移动视角是件很简单的事情</p>

<p>可是按照一般事情的尿性来看，简单的事情都没有想象中那么简单</p>

<p>一个矛盾点就是，如果通过在屏幕上拖动鼠标来移动视角，那么界面就废了……</p>

<p>所以我的想法是参考3dsMax的做法，在屏幕上放一个指示方向的六面体骰子，通过拖动这个骰子来改变视角</p>

<p>这个骰子不可能是CEGUI，只能是3D场景中的一部分</p>

<p>所以我的工作可以归纳为一下几个：</p>

<p>1.找一个六面体模型，并弄好标有上下左右前后的纹理，导入PythonOgre</p>

<p>2.研究下鼠标如何和这个六面体交互，需要用到拾取吗？</p>

<p>3.研究下鼠标的事件机制</p>

<p>4.研究下摄像机，因为摄像机有两种移动方式，一种是自己动，一种是跟着节点动</p>

<p>亮哥工作日志的传送门：<a href="http://everet.org/2012/01/clover-progress.html">http://everet.org/2012/01/clover-progress.html</a></p>

<h3 id="section-15">2012-1-30：</h3>

<blockquote>
  <p>架构设计会议记录：<a href="http://everet.org/2012/01/clover-architecture-design-meeting.html">http://everet.org/2012/01/clover-architecture-design-meeting.html</a></p>
</blockquote>

<p>选用Triangle List来画三角形，虽然比strip更耗空间，不过方便建模。一个三角形就是三个点，初步是按顺时针和逆时针把两个面画了。日后再改了，反面裁剪的开关我也没去找在哪里。</p>

<p>TODO：</p>

<blockquote>

</blockquote>

<blockquote>
  <ol>
    <li>点的拾取和边的拾取。可能要自己写算法拾取，也可能有现成的解决方案。关键得有人去解决这个问题。</li>
  </ol>

</blockquote>

<blockquote>
  <ol>
    <li>动态添加点。这个怎么弄？首先得定位在哪里添加，是打散三角形还是怎样。还是说本来就很多点，这样方便使用物理引擎模拟纸张的弯曲。</li>
  </ol>

</blockquote>

<blockquote>
  <ol>
    <li>光照材质这些外观的东西先忽略…<!-- more --></li>
  </ol>

</blockquote>

<h3 id="section-16">2012-1-29:</h3>

<blockquote>
  <p>师兄把Python-Ogre装了。</p>
</blockquote>

<h3 id="section-17">2012-1-28：</h3>

<blockquote>
  <p>屠文翔把界面框架写了。</p>
</blockquote>

<p>自定义几何体 <a href="http://www.ogre3d.org/tikiwiki/ManualObject">http://www.ogre3d.org/tikiwiki/ManualObject</a></p>

<h3 id="section-18">2012-1-27:</h3>

<blockquote>
  <p>开工，预期使用Python编码，Git管理。<!-- more --></p>
</blockquote>

<p>进度记录：<a href="http://everet.org/2012/01/clover-progress.html">http://everet.org/2012/01/clover-progress.html</a></p>

<p>网页浏览版本库： <a href="http://git.everet.org/">http://git.everet.org/</a></p>

<p>屠文翔的通知：</p>

<blockquote>

</blockquote>

<blockquote>

  <p>各位新年好啊</p>

</blockquote>

<blockquote>

  <p>春节期间走亲访友外加同学聚会唱k陪女朋友很辛苦吧？</p>

</blockquote>

<blockquote>

  <p>现在有个好消息，你们解脱了，因为要开始工作了！<!-- more --></p>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

  <p>首先回顾一下我们要做什么</p>

</blockquote>

<blockquote>

  <p>在2月29日之前提交文档(见附件)</p>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

  <p>然后回顾一下之前我们做了些什么</p>

</blockquote>

<blockquote>

  <p>定下来了大方向和技术框架</p>

</blockquote>

<blockquote>

  <p>图像引擎使用OGRE</p>

</blockquote>

<blockquote>

  <p>界面UI使用CEGUI</p>

</blockquote>

<blockquote>

  <p>物理引擎使用Newton</p>

</blockquote>

<blockquote>

  <p>骨架系统的一些需求见需求文档（附件2）</p>

</blockquote>

<blockquote>

  <p>另外还有就是，华亮和我都已经弄好了OGRE环境，华亮还弄好了PythonOgre的环境，我这边还弄好了CEGUI的环境</p>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

  <p>接下来一周内要做的工作</p>

</blockquote>

<blockquote>

  <p>首先徐小孟同学要开始配置和熟悉OGRE环境，以及</p>

</blockquote>

<blockquote>

  <p>这里是OgreSDK的下载地址，下载1.7.4  <a href="http://www.ogre3d.org/download/sdk">http://www.ogre3d.org/download/sdk</a></p>

</blockquote>

<blockquote>

  <p>这里是Ogre安装教程 <a href="http://www.ogre3d.org/tikiwiki/Installing+the+Ogre+SDK">http://www.ogre3d.org/tikiwiki/Installing+the+Ogre+SDK</a></p>

</blockquote>

<blockquote>

  <p>这里是Ogre基础教程 <a href="http://www.ogre3d.org/tikiwiki/Tutorials">http://www.ogre3d.org/tikiwiki/Tutorials</a></p>

</blockquote>

<blockquote>

  <p>华亮强烈建议我们使用PythonOgre进行开发，PythonOgre是使用Python语言重新封装的Ogre的一个库，使用PythonOgre最大的好处就是不需要编译</p>

</blockquote>

<blockquote>

  <p>这里是PythonOgre安装及使用的一些简单教程 <a href="http://everet.org/2012/01/python-ogre-start.html">http://everet.org/2012/01/python-ogre-start.html</a></p>

</blockquote>

<blockquote>

  <p>华亮还强烈建议这次我们要做到文档完善，结构清晰，注释充分，架构健壮……</p>

</blockquote>

<blockquote>

  <p>所以华亮这一周的工作是弄个架构设计文档出来，最好把骨架系统也搭起来。如果遇到需要和大家商量的地方可以在qq上商量。</p>

</blockquote>

<blockquote>

  <p>对于我，杨旭瑜和徐小孟，这一周的共同工作则是，安装PythonOgre（对于徐小孟同学，你还要安装原版的OgreSDK），研究Ogre的例子和源码，学习Ogre的设计架构（听说徐小孟同学在写自己的渲染引擎，这点可能对你比较有帮助）；学习Ogre的功能，并留意其中对我们以后的开发用的上的功能。</p>

</blockquote>

<blockquote>

  <p>另外，虽然是华亮负责架构，但并不意味这我们可以不用去了解。因为我们是基于Ogre开发，所以可以预见到我们的软件架构和Ogre自身的架构是有许多相似之处的。我建议大家多去关注一下Ogre里面用到的设计模式，如单例模式，工厂模式，这对我们自己以后的发展也很有帮助。</p>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>

  <p>以上！</p>

</blockquote>

<blockquote>

  <p>屠文翔</p>
</blockquote>


  <hr/>
    <h2>您可能也喜欢</h2>
    <ul>
    
        <li>
        <a href="/2012/01/chopsticks.html">中国人使用筷子的十二种忌讳</a>
        </li>
    
        <li>
        <a href="/2012/01/conflict-in-life.html">传统文化中最矛盾的两句话是什么？</a>
        </li>
    
        <li>
        <a href="/2012/03/clover-save-file.html">Clover折纸数据结构的文件保存</a>
        </li>
    
        <li>
        <a href="/2012/06/python-function-default-parameter.html">谈谈Python函数的默认参数</a>
        </li>
    
        <li>
        <a href="/2012/07/add-new-grammer-to-python.html">走进Python: 为Python增加新语法</a>
        </li>
    
    </ul>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Stupid ET</span></span>

      








  


<time datetime="2012-01-28T01:31:58+08:00" pubdate data-updated="true">2012-01-28</time>
      

<span class="categories">
  
    <a class='category' href='/category/my-code/'>My Code</a>
  
</span>


      

<span class="categories">
  Tags:&nbsp
  
    <a class='tag' href='/tag/clover/'>Clover</a>, <a class='tag' href='/tag/ogre/'>OGRE</a>, <a class='tag' href='/tag/python/'>Python</a>
  
</span>



    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://everet.org/2012/01/clover-progress.html" data-via="" data-counturl="http://everet.org/2012/01/clover-progress.html" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2012/01/tortoisegit-access-gitosis.html" title="Previous Post: TortoiseGit访问Gitosis搭建的版本库">&laquo; TortoiseGit访问Gitosis搭建的版本库</a>
      
      
        <a class="basic-alignment right" href="/2012/01/imagination-factory.html" title="Next Post: 我们的图像处理 Imagination Factory">我们的图像处理 Imagination Factory &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>Cedric Porter is Stupid ET.</p>
  <p>EverET.org is provided by Stupid ET.</p>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 113%" href="/tag/android/">Android</a>
<a style="font-size: 132%" href="/tag/apache/">Apache</a>
<a style="font-size: 80%" href="/tag/boost/">Boost</a>
<a style="font-size: 80%" href="/tag/bugzilla/">Bugzilla</a>
<a style="font-size: 178%" href="/tag/c-/">C++</a>
<a style="font-size: 132%" href="/tag/captcha/">Captcha</a>
<a style="font-size: 164%" href="/tag/clover/">Clover</a>
<a style="font-size: 113%" href="/tag/datastructure/">DataStructure</a>
<a style="font-size: 80%" href="/tag/design/">Design</a>
<a style="font-size: 113%" href="/tag/emacs/">Emacs</a>
<a style="font-size: 80%" href="/tag/english/">English</a>
<a style="font-size: 172%" href="/tag/git/">Git</a>
<a style="font-size: 80%" href="/tag/gitosis/">Gitosis</a>
<a style="font-size: 113%" href="/tag/gitweb/">Gitweb</a>
<a style="font-size: 178%" href="/tag/image-processing/">Image Processing</a>
<a style="font-size: 80%" href="/tag/imagination-factory/">Imagination Factory</a>
<a style="font-size: 80%" href="/tag/irrlicht/">Irrlicht</a>
<a style="font-size: 80%" href="/tag/lnmp/">LNMP</a>
<a style="font-size: 207%" href="/tag/linux/">Linux</a>
<a style="font-size: 80%" href="/tag/moinmoin/">MoinMoin</a>
<a style="font-size: 132%" href="/tag/mysql/">Mysql</a>
<a style="font-size: 145%" href="/tag/nginx/">Nginx</a>
<a style="font-size: 156%" href="/tag/ogre/">OGRE</a>
<a style="font-size: 80%" href="/tag/octopress/">Octopress</a>
<a style="font-size: 132%" href="/tag/php/">PHP</a>
<a style="font-size: 250%" href="/tag/python/">Python</a>
<a style="font-size: 80%" href="/tag/qq/">QQ</a>
<a style="font-size: 80%" href="/tag/ruby/">Ruby</a>
<a style="font-size: 80%" href="/tag/svn/">SVN</a>
<a style="font-size: 113%" href="/tag/scar/">Scar</a>
<a style="font-size: 113%" href="/tag/tortoisegit/">TortoiseGit</a>
<a style="font-size: 164%" href="/tag/ubuntu/">Ubuntu</a>
<a style="font-size: 145%" href="/tag/ultrademo/">UltraDemo</a>
<a style="font-size: 80%" href="/tag/vpn/">VPN</a>
<a style="font-size: 113%" href="/tag/vim/">Vim</a>
<a style="font-size: 113%" href="/tag/wpf/">WPF</a>
<a style="font-size: 188%" href="/tag/web/">Web</a>
<a style="font-size: 164%" href="/tag/wordpress/">Wordpress</a>
<a style="font-size: 172%" href="/tag/compile/">compile</a>
<a style="font-size: 80%" href="/tag/cygwin/">cygwin</a>
<a style="font-size: 80%" href="/tag/ppp/">ppp</a>
<a style="font-size: 80%" href="/tag/pptpd/">pptpd</a>
<a style="font-size: 80%" href="/tag/rsync/">rsync</a>
<a style="font-size: 80%" href="/tag/sendmail/">sendmail</a>
<a style="font-size: 80%" href="/tag/ssh/">ssh</a>
<a style="font-size: 80%" href="/tag/uwsgi/">uWSGI</a>
<a style="font-size: 80%" href="/tag/virtual-memory/">virtual memory</a>

  </ul>
</section>
<section>
  <h1>Links</h1>
  <ul>
    <li><a href="http://414112390.qzone.qq.com/" rel="me" target="_blank">我的QQ空间</a></li>
    <li><a href="http://www.kidsang.com/" target="_blank">树桑小朋友的自留地</a></li>
    <li><a href="http://xiaoxia.org/" target="_blank">XIAOXIA[PG]</a></li>
    <li><a href="http://huanghuachao.cn/">Richard Huang's Blog</a></li>
    <li><a href="http://jiafei.org/" target="_blank">jiafei</a></li>
    <li><a href="http://xuyufish.com/" target="_blank">Fish</a></li>
    <li><a href="http://zhke.name/" target="_blank">汗青-home</a></li>
    <li><a href="http://www.dorgel.net/blog" target="_blank">Dorgel&#039;s Blog</a></li>
    <li><a href="http://spead.everet.org" title="俊杰的空间" target="_blank">Spead&#039;s Blog</a></li>
  </ul>  
</section>
<section>
  <h1>Recent Comments</h1>
  <div id="dsq-recentcomments" class="dsq-widget"><script type="text/javascript" src="http://disqus.com/forums/everet/recent_comments_widget.js?hide_avatars=0&num_items=5&excerpt_length=100"></script></div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/12/migrate-from-wordpress-to-octopress.html">From Wordpress to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/debug-nginx.html">调试Nginx</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/moinmoin-as-kms-by-nginx-uwsgi.html">MoinMoin+Nginx+uWSGI搭建个人Wiki</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/hardware-decide-the-software.html">有什么样的硬件，用什么样的软件</a>
      </li>
    
      <li class="post">
        <a href="/2012/11/vps-host-disappear.html">VPS主机商跑路了</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Stupid ET -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'everet';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://everet.org/2012/01/clover-progress.html';
        var disqus_url = 'http://everet.org/2012/01/clover-progress.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
